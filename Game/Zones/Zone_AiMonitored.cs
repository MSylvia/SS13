// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Zone_AiMonitored : Zone {

		public Obj_Machinery_Camera motioncamera = null;

		// Function from file: ai_monitored.dm
		public Zone_AiMonitored ( dynamic loc = null ) : base( (object)(loc) ) {
			Obj_Machinery_Camera M = null;

			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			Task13.Schedule( 20, (Task13.Closure)(() => {
				
				foreach (dynamic _a in Lang13.Enumerate( this, typeof(Obj_Machinery_Camera) )) {
					M = _a;
					

					if ( Lang13.Bool( M.isMotion() ) ) {
						this.motioncamera = M;
						M.area_motion = this;
						return;
					}
				}
				return;
			}));
			return;
		}

		// Function from file: ai_monitored.dm
		public override dynamic Exited( Ent_Dynamic Obj = null, Ent_Static newloc = null ) {
			
			if ( Obj is Mob && this.motioncamera != null ) {
				this.motioncamera.lostTarget( Obj );
			}
			return null;
		}

		// Function from file: ai_monitored.dm
		public override dynamic Entered( Ent_Dynamic Obj = null, Ent_Static oldloc = null ) {
			base.Entered( Obj, oldloc );

			if ( Obj is Mob && this.motioncamera != null ) {
				this.motioncamera.newTarget( Obj );
			}
			return null;
		}

	}

}