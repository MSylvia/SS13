// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class RoundEvent_Presents : RoundEvent {

		// Function from file: xmas.dm
		public override void announce(  ) {
			GlobalFuncs.priority_announce( "Ho Ho Ho, Merry Xmas!", "Unknown Transmission" );
			return;
		}

		// Function from file: xmas.dm
		public override bool start(  ) {
			Obj_Structure_Flora_Tree_Pine xmas = null;
			Tile_Simulated_Floor T = null;
			int? i = null;
			Mob_Living_SimpleAnimal_Pet_Dog_Corgi_Ian Ian = null;
			Obj_Machinery_Computer_Security_Telescreen_Entertainment Monitor = null;

			
			foreach (dynamic _b in Lang13.Enumerate( typeof(Game13), typeof(Obj_Structure_Flora_Tree_Pine) )) {
				xmas = _b;
				

				if ( xmas.z != 1 ) {
					continue;
				}

				foreach (dynamic _a in Lang13.Enumerate( Map13.FetchInRangeExcludeThis( xmas, 1 ), typeof(Tile_Simulated_Floor) )) {
					T = _a;
					
					i = null;
					i = 1;

					while (( i ??0) <= Rand13.Int( 1, 5 )) {
						new Obj_Item_Weapon_AGift( T );
						i++;
					}
				}
			}

			foreach (dynamic _c in Lang13.Enumerate( GlobalVars.mob_list, typeof(Mob_Living_SimpleAnimal_Pet_Dog_Corgi_Ian) )) {
				Ian = _c;
				
				Ian.place_on_head( new Obj_Item_Clothing_Head_Helmet_Space_Santahat( Ian ) );
			}

			foreach (dynamic _d in Lang13.Enumerate( GlobalVars.machines, typeof(Obj_Machinery_Computer_Security_Telescreen_Entertainment) )) {
				Monitor = _d;
				
				Monitor.icon_state = "entertainment_xmas";
			}
			return false;
		}

	}

}