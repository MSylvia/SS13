// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class RoundEvent_Wizard_Shufflenames : RoundEvent_Wizard {

		// Function from file: shuffle.dm
		public override bool start(  ) {
			ByTable mobnames = null;
			ByTable mobs = null;
			Mob_Living_Carbon_Human H = null;
			Mob_Living_Carbon_Human H2 = null;
			Mob_Living_Carbon_Human H3 = null;
			EffectSystem_SmokeSpread smoke = null;

			mobnames = new ByTable();
			mobs = new ByTable();

			foreach (dynamic _a in Lang13.Enumerate( GlobalVars.living_mob_list, typeof(Mob_Living_Carbon_Human) )) {
				H = _a;
				
				mobnames.Add( H.real_name );
				mobs.Add( H );
			}

			if ( !( mobs != null ) ) {
				return false;
			}
			GlobalFuncs.shuffle( mobnames );
			GlobalFuncs.shuffle( mobs );

			foreach (dynamic _b in Lang13.Enumerate( mobs, typeof(Mob_Living_Carbon_Human) )) {
				H2 = _b;
				

				if ( !( mobnames != null ) ) {
					break;
				}
				H2.real_name = mobnames[mobnames.len];
				mobnames.len -= 1;
			}

			foreach (dynamic _c in Lang13.Enumerate( GlobalVars.living_mob_list, typeof(Mob_Living_Carbon_Human) )) {
				H3 = _c;
				
				smoke = new EffectSystem_SmokeSpread();
				smoke.set_up( 0, H3.loc );
				smoke.start();
			}
			return false;
		}

	}

}