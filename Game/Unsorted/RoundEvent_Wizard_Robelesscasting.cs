// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class RoundEvent_Wizard_Robelesscasting : RoundEvent_Wizard {

		// Function from file: aid.dm
		public override bool start(  ) {
			Mob_Living L = null;
			bool spell_improved = false;
			Obj_Effect_ProcHolder_Spell S = null;

			
			foreach (dynamic _b in Lang13.Enumerate( GlobalVars.mob_list, typeof(Mob_Living) )) {
				L = _b;
				

				if ( L.mind != null && L.mind.spell_list.len != 0 ) {
					spell_improved = false;

					foreach (dynamic _a in Lang13.Enumerate( L.mind.spell_list, typeof(Obj_Effect_ProcHolder_Spell) )) {
						S = _a;
						

						if ( Lang13.Bool( S.clothes_req ) ) {
							S.clothes_req = 0;
							spell_improved = true;
						}
					}

					if ( spell_improved ) {
						L.WriteMsg( "<span class='notice'>You suddenly feel like you never needed those garish robes in the first place...</span>" );
					}
				}
			}
			return false;
		}

	}

}