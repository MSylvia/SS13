// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Reagent_Vaccine : Reagent {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.name = "Vaccine";
			this.id = "vaccine";
			this.color = "#C81040";
		}

		// Function from file: other_reagents.dm
		public override bool on_merge( dynamic data = null ) {
			
			if ( data is ByTable ) {
				this.data |= data.Copy();
			}
			return false;
		}

		// Function from file: other_reagents.dm
		public override double reaction_mob( dynamic M = null, int? method = null, double? reac_volume = null, bool? show_message = null, dynamic touch_protection = null, Mob_Camera_Blob O = null ) {
			method = method ?? GlobalVars.TOUCH;

			Disease D = null;

			
			if ( this.data is ByTable && ( method == GlobalVars.INGEST || method == GlobalVars.INJECT ) ) {
				
				foreach (dynamic _a in Lang13.Enumerate( M.viruses, typeof(Disease) )) {
					D = _a;
					

					if ( Lang13.Bool( this.data.Contains( D.GetDiseaseID() ) ) ) {
						D.cure();
					}
				}
				M.resistances.Or( this.data );
			}
			return 0;
		}

	}

}