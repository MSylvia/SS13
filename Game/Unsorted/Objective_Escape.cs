// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Objective_Escape : Objective {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.explanation_text = "Escape on the shuttle or an escape pod alive and without being in custody.";
			this.dangerrating = 5;
		}

		public Objective_Escape ( string text = null ) : base( text ) {
			
		}

		// Function from file: objective.dm
		public override int check_completion(  ) {
			dynamic location = null;

			
			if ( this.owner.current is Mob_Living_Silicon ) {
				return 0;
			}

			if ( this.owner.current is Mob_Living_Carbon_Brain ) {
				return 0;
			}

			if ( !Lang13.Bool( this.owner.current ) || Convert.ToInt32( this.owner.current.stat ) == 2 ) {
				return 0;
			}

			if ( Lang13.Bool( GlobalVars.ticker.force_ending ) ) {
				return 1;
			}

			if ( GlobalVars.ticker.mode.station_was_nuked ) {
				return 1;
			}

			if ( GlobalVars.SSshuttle.emergency.mode < 6 ) {
				return 0;
			}
			location = GlobalFuncs.get_turf( this.owner.current );

			if ( !Lang13.Bool( location ) ) {
				return 0;
			}

			if ( location is Tile_Simulated_Floor_Plasteel_Shuttle_Red ) {
				return 0;
			}

			if ( ((Ent_Static)location).onCentcom() || ((Ent_Static)location).onSyndieBase() ) {
				return 1;
			}
			return 0;
		}

	}

}