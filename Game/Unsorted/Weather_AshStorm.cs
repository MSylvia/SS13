// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Weather_AshStorm : Weather {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.name = "ash storm";
			this.start_up_message = "The wind begins to pick up. Seek shelter.";
			this.duration_lower = 90;
			this.duration_upper = 360;
			this.duration_message = "An ash storm has started! Get inside!";
			this.wind_down_message = "The storm begins to fade. Should be safe to go outside again.";
			this.target_z = 5;
			this.area_type = typeof(Zone_Lavaland_Surface_Outdoors);
			this.start_up_overlay = "light_ash";
			this.duration_overlay = "ash_storm";
		}

		// Function from file: weather_types.dm
		public override void storm_act( Mob_Living L = null ) {
			Mob_Living H = null;
			double thermal_protection = 0;

			
			if ( L is Mob_Living_Carbon_Human ) {
				H = L;
				thermal_protection = ((Mob_Living_Carbon_Human)H).get_thermal_protection();

				if ( thermal_protection >= 35000 ) {
					return;
				}
			}
			L.adjustFireLoss( 4 );
			return;
		}

	}

}