// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Outfit_Job : Outfit {

		public Type backpack = typeof(Obj_Item_Weapon_Storage_Backpack);
		public Type satchel = typeof(Obj_Item_Weapon_Storage_Backpack_SatchelNorm);
		public Type dufflebag = typeof(Obj_Item_Weapon_Storage_Backpack_Dufflebag);
		public Type box = typeof(Obj_Item_Weapon_Storage_Box_Survival);
		public int pda_slot = 6;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.name = "Standard Gear";
			this.uniform = typeof(Obj_Item_Clothing_Under_Color_Grey);
			this.id = typeof(Obj_Item_Weapon_Card_Id);
			this.ears = typeof(Obj_Item_Device_Radio_Headset);
			this.belt = typeof(Obj_Item_Device_Pda);
			this.back = typeof(Obj_Item_Weapon_Storage_Backpack);
			this.shoes = typeof(Obj_Item_Clothing_Shoes_Sneakers_Black);
		}

		// Function from file: job.dm
		public void announce_head( Mob H = null, ByTable channels = null ) {
			dynamic announcer = null;

			Task13.Schedule( 4, (Task13.Closure)(() => {
				
				if ( H != null && GlobalVars.announcement_systems.len != 0 ) {
					announcer = Rand13.PickFromTable( GlobalVars.announcement_systems );
					((Obj_Machinery_AnnouncementSystem)announcer).announce( "NEWHEAD", H.real_name, H.job, channels );
				}
				return;
			}));
			return;
		}

		// Function from file: job.dm
		public override void post_equip( Mob H = null, int? visualsOnly = null ) {
			visualsOnly = visualsOnly ?? GlobalVars.FALSE;

			Obj_Item_Weapon_Card_Id C = null;
			Job J = null;
			dynamic PDA = null;

			
			if ( Lang13.Bool( visualsOnly ) ) {
				return;
			}
			C = ((dynamic)H).wear_id;

			if ( C is Obj_Item_Weapon_Card_Id ) {
				J = GlobalVars.SSjob.GetJob( H.job );
				C.access = J.get_access();
				C.registered_name = H.real_name;
				C.assignment = H.job;
				C.update_label();
				((Mob_Living_Carbon_Human)H).sec_hud_set_ID();
			}
			PDA = H.get_item_by_slot( this.pda_slot );

			if ( PDA is Obj_Item_Device_Pda ) {
				PDA.owner = H.real_name;
				PDA.ownjob = H.job;
				PDA.update_label();
			}
			return;
		}

		// Function from file: job.dm
		public override void pre_equip( Mob H = null, int? visualsOnly = null ) {
			visualsOnly = visualsOnly ?? GlobalVars.FALSE;

			
			dynamic _a = ((dynamic)H).backbag; // Was a switch-case, sorry for the mess.
			if ( _a=="Grey Satchel" ) {
				this.back = typeof(Obj_Item_Weapon_Storage_Backpack_SatchelNorm);
			} else if ( _a=="Grey Dufflebag" ) {
				this.back = typeof(Obj_Item_Weapon_Storage_Backpack_Dufflebag);
			} else if ( _a=="Leather Satchel" ) {
				this.back = typeof(Obj_Item_Weapon_Storage_Backpack_Satchel);
			} else if ( _a=="Department Backpack" ) {
				this.back = this.backpack;
			} else if ( _a=="Department Satchel" ) {
				this.back = this.satchel;
			} else if ( _a=="Department Dufflebag" ) {
				this.back = this.dufflebag;
			} else {
				this.back = typeof(Obj_Item_Weapon_Storage_Backpack);
			}
			this.backpack_contents[this.box] = 1;
			return;
		}

	}

}