// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Hud_Drone : Hud {

		// Function from file: drones.dm
		public Hud_Drone ( Mob_Living_SimpleAnimal_Drone owner = null, string ui_style = null ) : base( owner ) {
			ui_style = ui_style ?? "icons/mob/screen_midnight.dmi";

			Obj_Screen _using = null;
			Obj_Screen_Inventory inv_box = null;

			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			_using = new Obj_Screen_Drop();
			_using.icon = ui_style;
			_using.screen_loc = "CENTER+1:18,SOUTH:5";
			this.static_inventory.Add( _using );
			this.pull_icon = new Obj_Screen_Pull();
			this.pull_icon.icon = ui_style;
			this.pull_icon.update_icon( this.mymob );
			this.pull_icon.screen_loc = "CENTER+2:2,SOUTH:5";
			this.static_inventory.Add( this.pull_icon );
			inv_box = new Obj_Screen_Inventory();
			inv_box.name = "r_hand";
			inv_box.icon = ui_style;
			inv_box.icon_state = "hand_r_inactive";

			if ( this.mymob != null && !this.mymob.hand ) {
				inv_box.icon_state = "hand_r_active";
			}
			inv_box.screen_loc = "CENTER:-16,SOUTH:5";
			inv_box.slot_id = 5;
			inv_box.layer = 19;
			this.r_hand_hud_object = inv_box;
			this.static_inventory.Add( inv_box );
			inv_box = new Obj_Screen_Inventory();
			inv_box.name = "l_hand";
			inv_box.icon = ui_style;
			inv_box.icon_state = "hand_l_inactive";

			if ( this.mymob != null && this.mymob.hand ) {
				inv_box.icon_state = "hand_l_active";
			}
			inv_box.screen_loc = "CENTER: 16,SOUTH:5";
			inv_box.slot_id = 4;
			inv_box.layer = 19;
			this.l_hand_hud_object = inv_box;
			this.static_inventory.Add( inv_box );
			inv_box = new Obj_Screen_Inventory();
			inv_box.name = "internal storage";
			inv_box.icon = ui_style;
			inv_box.icon_state = "suit_storage";
			inv_box.screen_loc = "CENTER-2:14,SOUTH:5";
			inv_box.slot_id = 20;
			inv_box.layer = 19;
			this.static_inventory.Add( inv_box );
			inv_box = new Obj_Screen_Inventory();
			inv_box.name = "head/mask";
			inv_box.icon = ui_style;
			inv_box.icon_state = "mask";
			inv_box.screen_loc = "CENTER-3:14,SOUTH:5";
			inv_box.slot_id = 11;
			inv_box.layer = 19;
			this.static_inventory.Add( inv_box );
			_using = new Obj_Screen_Inventory();
			_using.name = "hand";
			_using.icon = ui_style;
			_using.icon_state = "swap_1_m";
			_using.screen_loc = "CENTER:-16,SOUTH+1:5";
			_using.layer = 19;
			this.static_inventory.Add( _using );
			_using = new Obj_Screen_Inventory();
			_using.name = "hand";
			_using.icon = ui_style;
			_using.icon_state = "swap_2";
			_using.screen_loc = "CENTER: 16,SOUTH+1:5";
			_using.layer = 19;
			this.static_inventory.Add( _using );
			this.zone_select = new Obj_Screen_ZoneSel();
			this.zone_select.icon = ui_style;
			this.zone_select.update_icon( this.mymob );
			return;
		}

		// Function from file: drones.dm
		public override void persistant_inventory_update(  ) {
			Mob D = null;

			
			if ( !( this.mymob != null ) ) {
				return;
			}
			D = this.mymob;

			if ( this.hud_shown ) {
				
				if ( Lang13.Bool( ((dynamic)D).internal_storage ) ) {
					((dynamic)D).internal_storage.screen_loc = "CENTER-2:14,SOUTH:5";
					D.client.screen.Add( ((dynamic)D).internal_storage );
				}

				if ( Lang13.Bool( ((dynamic)D).head ) ) {
					((dynamic)D).head.screen_loc = "CENTER-3:14,SOUTH:5";
					D.client.screen.Add( ((dynamic)D).head );
				}
			} else {
				
				if ( Lang13.Bool( ((dynamic)D).internal_storage ) ) {
					((dynamic)D).internal_storage.screen_loc = null;
				}

				if ( Lang13.Bool( ((dynamic)D).head ) ) {
					((dynamic)D).head.screen_loc = null;
				}
			}

			if ( this.hud_version != 3 ) {
				
				if ( Lang13.Bool( D.r_hand ) ) {
					D.r_hand.screen_loc = "CENTER:-16,SOUTH:5";
					D.client.screen.Add( D.r_hand );
				}

				if ( Lang13.Bool( D.l_hand ) ) {
					D.l_hand.screen_loc = "CENTER: 16,SOUTH:5";
					D.client.screen.Add( D.l_hand );
				}
			} else {
				
				if ( Lang13.Bool( D.r_hand ) ) {
					D.r_hand.screen_loc = null;
				}

				if ( Lang13.Bool( D.l_hand ) ) {
					D.l_hand.screen_loc = null;
				}
			}
			return;
		}

	}

}