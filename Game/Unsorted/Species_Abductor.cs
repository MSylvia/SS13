// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Species_Abductor : Species {

		public bool scientist = false;
		public bool agent = false;
		public dynamic team = 1;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.name = "Abductor";
			this.id = "abductor";
			this.darksight = 3;
			this.say_mod = "gibbers";
			this.sexes = false;
			this.specflags = new ByTable(new object [] { 1024, 256, 4096 });
		}

		// Function from file: species_types.dm
		public override dynamic handle_speech( dynamic message = null, Mob_Living_Carbon_Human H = null ) {
			Mob user = null;
			string rendered = null;
			Mob_Living_Carbon_Human H2 = null;
			dynamic target_spec = null;
			dynamic M = null;

			user = Task13.User;
			rendered = "<i><font color=#800080><b>" + user.name + ":</b> " + message + "</font></i>";

			foreach (dynamic _a in Lang13.Enumerate( GlobalVars.mob_list, typeof(Mob_Living_Carbon_Human) )) {
				H2 = _a;
				

				if ( H2.dna.species.id != "abductor" ) {
					continue;
				} else {
					target_spec = H2.dna.species;

					if ( target_spec.team == this.team ) {
						H2.WriteMsg( rendered );
					}
				}
			}

			foreach (dynamic _b in Lang13.Enumerate( GlobalVars.dead_mob_list )) {
				M = _b;
				
				M.WriteMsg( new Txt( "<a href='?src=" ).Ref( M ).str( ";follow=" ).Ref( user ).str( "'>(F)</a> " ).item( rendered ).ToString() );
			}
			return "";
		}

	}

}