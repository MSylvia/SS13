// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Reagent_Water_Holywater : Reagent_Water {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.name = "Holy Water";
			this.id = "holywater";
			this.description = "Water blessed by some deity.";
			this.color = "#E0E8EF";
		}

		// Function from file: other_reagents.dm
		public override void reaction_turf( dynamic T = null, double? volume = null ) {
			Obj_Effect_Rune R = null;

			base.reaction_turf( (object)(T), volume );

			if ( !( T is Tile_Simulated ) ) {
				return;
			}

			if ( ( volume ??0) >= 10 ) {
				
				foreach (dynamic _a in Lang13.Enumerate( T, typeof(Obj_Effect_Rune) )) {
					R = _a;
					
					GlobalFuncs.qdel( R );
				}
			}
			((Tile)T).Bless();
			return;
		}

		// Function from file: other_reagents.dm
		public override bool on_mob_life( dynamic M = null ) {
			
			if ( !Lang13.Bool( this.data ) ) {
				this.data = 1;
			}
			this.data++;
			M.jitteriness = Num13.MaxInt( M.jitteriness - 5, 0 );

			if ( Convert.ToDouble( this.data ) >= 30 ) {
				
				if ( !( M.stuttering != 0 ) ) {
					M.stuttering = 1;
				}
				M.stuttering += 4;
				((Mob)M).Dizzy( 5 );
			}

			if ( Convert.ToDouble( this.data ) >= 75 && Rand13.PercentChance( 33 ) ) {
				
				if ( !( M.confused != 0 ) ) {
					M.confused = 1;
				}
				M.confused += 3;

				if ( GlobalFuncs.is_handofgod_cultist( M ) && !GlobalFuncs.is_handofgod_prophet( M ) ) {
					((GameMode)GlobalVars.ticker.mode).remove_hog_follower( M.mind );
					((Reagents)this.holder).remove_reagent( this.id, this.volume );
					M.jitteriness = 0;
					M.stuttering = 0;
					M.confused = 0;
					return false;
				}
			}
			((Reagents)this.holder).remove_reagent( this.id, 0.4 );
			return false;
		}

	}

}