// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_Ore_Glass : Obj_Item_Weapon_Ore {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.origin_tech = "materials=1";
			this.material = "$glass";
			this.melt_temperature = 1773.1500244140625;
			this.slot_flags = 2048;
			this.throw_range = 1;
			this.icon_state = "Glass ore";
		}

		public Obj_Item_Weapon_Ore_Glass ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: ores_coins.dm
		public override dynamic attack_self( dynamic user = null, dynamic flag = null, bool? emp = null ) {
			dynamic location = null;
			Obj_Item_Weapon_Ore_Glass sandToConvert = null;

			location = GlobalFuncs.get_turf( user );

			foreach (dynamic _a in Lang13.Enumerate( location, typeof(Obj_Item_Weapon_Ore_Glass) )) {
				sandToConvert = _a;
				
				GlobalFuncs.drop_stack( typeof(Obj_Item_Stack_Sheet_Mineral_Sandstone), location, 1, user );
				GlobalFuncs.qdel( sandToConvert );
			}
			GlobalFuncs.drop_stack( typeof(Obj_Item_Stack_Sheet_Mineral_Sandstone), location, 1, user );
			GlobalFuncs.qdel( this );
			return null;
		}

		// Function from file: ores_coins.dm
		public override dynamic throw_impact( dynamic hit_atom = null, dynamic speed = null, Mob user = null ) {
			dynamic H = null;

			
			if ( hit_atom is Tile ) {
				new Obj_Effect_Decal_Cleanable_ScatteredSand( hit_atom );
				GlobalFuncs.qdel( this );
			} else if ( hit_atom is Mob_Living_Carbon_Human ) {
				H = hit_atom;

				if ( ((Mob_Living_Carbon_Human)H).check_body_part_coverage( 2048 ) ) {
					GlobalFuncs.to_chat( H, new Txt( "<span class='warning'>Your eyewear protects you from " ).the( this ).item().str( "!</span>" ).ToString() );
				} else {
					((Ent_Static)H).visible_message( "<span class='warning'>" + H + " is blinded by the " + this + "!</span>", new Txt( "<span class='warning'>" ).The( this ).item().str( " flies into your eyes!</span>" ).ToString() );
					H.eye_blurry = Num13.MaxInt( Convert.ToInt32( H.eye_blurry ), Rand13.Int( 3, 8 ) );
					H.eye_blind = Num13.MaxInt( H.eye_blind, Rand13.Int( 1, 3 ) );
					((Mob)H).drop_hands( GlobalFuncs.get_turf( H ) );
				}
				GlobalVars.diaryofmeanpeople.WriteMsg( String13.HtmlDecode( "[" + GlobalFuncs.time_stamp() + "]ATTACK: " + ( "<font color='red'>" + hit_atom + " (" + ( Lang13.Bool( H ) ? H.ckey : "what" ) + ") was pocketsanded by (" + this.fingerprintslast + ")</font>" ) ) );
			}
			return null;
		}

	}

}