// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Borg_Stun : Obj_Item_Borg {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.icon = "icons/obj/decals.dmi";
			this.icon_state = "shock";
		}

		public Obj_Item_Borg_Stun ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: robot_items.dm
		public override bool? attack( dynamic M = null, dynamic user = null, string def_zone = null, bool? eat_override = null ) {
			dynamic O = null;

			M.attack_log.Add( "[" + GlobalFuncs.time_stamp() + "] <font color='orange'>Has been attacked with " + this.name + " by " + user.name + " (" + user.ckey + ")</font>" );
			user.attack_log.Add( "[" + GlobalFuncs.time_stamp() + "] <font color='red'>Used the " + this.name + " to attack " + M.name + " (" + M.ckey + ")</font>" );
			GlobalFuncs.msg_admin_attack( "" + user.name + " (" + user.ckey + ") used the " + this.name + " to attack " + M.name + " (" + M.ckey + ") (<A HREF='?_src_=holder;adminplayerobservecoodjump=1;X=" + user.x + ";Y=" + user.y + ";Z=" + user.z + "'>JMP</a>)" );

			if ( !( user is Mob_Living_Carbon ) ) {
				M.LAssailant = null;
			} else {
				M.LAssailant = user;
			}
			user.cell.charge -= 30;
			((Mob)M).Weaken( 5 );

			if ( Convert.ToDouble( M.stuttering ) < 5 ) {
				M.stuttering = 5;
			}
			((Mob)M).Stun( 5 );

			foreach (dynamic _a in Lang13.Enumerate( Map13.FetchViewers( null, M ) )) {
				O = _a;
				

				if ( Lang13.Bool( O.client ) ) {
					O.show_message( "<span class='danger'>" + user + " has prodded " + M + " with an electrically-charged arm!</span>", 1, "<span class='warning'>You hear someone fall</span>", 2 );
				}
			}
			return null;
		}

	}

}