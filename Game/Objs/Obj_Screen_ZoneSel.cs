// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Screen_ZoneSel : Obj_Screen {

		public string selecting = "chest";

		protected override void __FieldInit() {
			base.__FieldInit();

			this.screen_loc = "EAST-1:28,SOUTH:5";
			this.icon_state = "zone_sel";
		}

		public Obj_Screen_ZoneSel ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: screen_objects.dm
		public override bool update_icon( dynamic new_state = null, dynamic new_icon = null, int? new_px = null, int? new_py = null ) {
			this.overlays.Cut();
			this.overlays.Add( new Image( "icons/mob/screen_gen.dmi", "" + this.selecting ) );
			new_state.zone_selected = this.selecting;
			return false;
		}

		// Function from file: screen_objects.dm
		public override bool Click( dynamic loc = null, string control = null, string _params = null ) {
			ByTable PL = null;
			double? icon_x = null;
			double? icon_y = null;
			string old_selecting = null;

			PL = String13.ParseUrlParams( _params );
			icon_x = String13.ParseNumber( PL["icon-x"] );
			icon_y = String13.ParseNumber( PL["icon-y"] );
			old_selecting = this.selecting;

			dynamic _e = icon_y; // Was a switch-case, sorry for the mess.
			if ( 1<=_e&&_e<=9 ) {
				
				dynamic _a = icon_x; // Was a switch-case, sorry for the mess.
				if ( 10<=_a&&_a<=15 ) {
					this.selecting = "r_leg";
				} else if ( 17<=_a&&_a<=22 ) {
					this.selecting = "l_leg";
				} else {
					return true;
				}
			} else if ( 10<=_e&&_e<=13 ) {
				
				dynamic _b = icon_x; // Was a switch-case, sorry for the mess.
				if ( 8<=_b&&_b<=11 ) {
					this.selecting = "r_arm";
				} else if ( 12<=_b&&_b<=20 ) {
					this.selecting = "groin";
				} else if ( 21<=_b&&_b<=24 ) {
					this.selecting = "l_arm";
				} else {
					return true;
				}
			} else if ( 14<=_e&&_e<=22 ) {
				
				dynamic _c = icon_x; // Was a switch-case, sorry for the mess.
				if ( 8<=_c&&_c<=11 ) {
					this.selecting = "r_arm";
				} else if ( 12<=_c&&_c<=20 ) {
					this.selecting = "chest";
				} else if ( 21<=_c&&_c<=24 ) {
					this.selecting = "l_arm";
				} else {
					return true;
				}
			} else if ( 23<=_e&&_e<=30 ) {
				
				if ( Lang13.IsInRange( icon_x ??0, 12, 20 ) ) {
					this.selecting = "head";

					dynamic _d = icon_y; // Was a switch-case, sorry for the mess.
					if ( 23<=_d&&_d<=24 ) {
						
						if ( Lang13.IsInRange( icon_x ??0, 15, 17 ) ) {
							this.selecting = "mouth";
						}
					} else if ( 25<=_d&&_d<=27 ) {
						
						if ( Lang13.IsInRange( icon_x ??0, 15, 17 ) ) {
							this.selecting = "eyes";
						}
					} else if ( _d==26 ) {
						
						if ( Lang13.IsInRange( icon_x ??0, 14, 18 ) ) {
							this.selecting = "eyes";
						}
					}
				}
			}

			if ( old_selecting != this.selecting ) {
				this.update_icon( Task13.User );
			}
			return true;
		}

	}

}