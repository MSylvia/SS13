// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Clothing_Mask_Necklace_Teeth : Obj_Item_Clothing_Mask_Necklace {

		public Type animal_type = null;
		public double? teeth_amount = 10;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.icon_state = "tooth-necklace";
		}

		public Obj_Item_Clothing_Mask_Necklace_Teeth ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: necklaces.dm
		public void update_name(  ) {
			string animal_name = null;
			string prefix = null;

			animal_name = "teeth";

			if ( this.animal_type != null ) {
				
				if ( Lang13.Bool( ((dynamic)this.animal_type).IsSubclassOf( typeof(Mob_Living_Carbon_Human) ) ) ) {
					animal_name = "human teeth";

					if ( this.animal_type == typeof(Mob_Living_Carbon_Human_Skellington) ) {
						animal_name = "skellington teeth";
					}

					if ( this.animal_type == typeof(Mob_Living_Carbon_Human_Tajaran) ) {
						animal_name = "tajaran teeth";
					}
				} else {
					animal_name = "" + Lang13.Initial( this.animal_type, "name" ) + " teeth";
				}
			}
			prefix = "";

			if ( ( this.teeth_amount ??0) >= 20 ) {
				prefix = "fine ";
			}

			if ( ( this.teeth_amount ??0) >= 35 ) {
				prefix = "well-made ";
			}

			if ( ( this.teeth_amount ??0) >= 50 ) {
				prefix = "masterwork ";
			}

			if ( ( this.teeth_amount ??0) >= 100 ) {
				prefix = "legendary ";
			}
			this.name = "" + prefix + animal_name + " necklace";
			this.desc = "A necklace made out of " + this.teeth_amount + " " + animal_name + ".";
			return;
		}

		// Function from file: necklaces.dm
		public override dynamic attackby( dynamic a = null, dynamic b = null, dynamic c = null ) {
			dynamic _default = null;

			dynamic T = null;

			_default = base.attackby( (object)(a), (object)(b), (object)(c) );

			if ( a is Obj_Item_Stack_Teeth ) {
				T = a;

				if ( T.animal_type != this.animal_type ) {
					return _default;
				}
				this.teeth_amount += Convert.ToDouble( T.amount );
				this.update_name();
				GlobalFuncs.to_chat( b, new Txt( "<span class='info'>You add " ).item( T.amount ).str( " " ).item( T ).str( " to " ).the( this ).item().str( ".</span>" ).ToString() );
				((Obj_Item_Stack)T).use( Lang13.DoubleNullable( T.amount ) );
			}
			return _default;
		}

	}

}