// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Effect_Hallucination_Battle : Obj_Effect_Hallucination {

		// Function from file: Hallucination.dm
		public Obj_Effect_Hallucination_Battle ( dynamic loc = null, Mob_Living_Carbon T = null ) : base( (object)(loc) ) {
			int? hits = null;
			int? i = null;
			int? i2 = null;
			int? i3 = null;
			int? i4 = null;

			this.target = T;
			hits = Rand13.Int( 3, 6 );

			switch ((int)( Rand13.Int( 1, 5 ) )) {
				case 1:
					i = null;
					i = 0;

					while (( i ??0) < ( hits ??0)) {
						((dynamic)this.target).WriteMsg( new Sound( "sound/weapons/Laser.ogg", false, true, 0, 25 ) );
						Task13.Sleep( Rand13.Int( 1, 5 ) );
						i++;
					}
					((dynamic)this.target).WriteMsg( new Sound( GlobalFuncs.get_sfx( "bodyfall" ), false, true, 0, 25 ) );
					break;
				case 2:
					((dynamic)this.target).WriteMsg( new Sound( "sound/weapons/saberon.ogg", false, true, 0, 15 ) );
					i2 = null;
					i2 = 0;

					while (( i2 ??0) < ( hits ??0)) {
						((dynamic)this.target).WriteMsg( new Sound( "sound/weapons/blade1.ogg", null, false, 1, 0 ) );
						Task13.Sleep( Rand13.Int( 1, 5 ) );
						i2++;
					}
					((dynamic)this.target).WriteMsg( new Sound( GlobalFuncs.get_sfx( "bodyfall" ), false, true, 0, 25 ) );
					((dynamic)this.target).WriteMsg( new Sound( "sound/weapons/saberoff.ogg", false, true, 0, 15 ) );
					break;
				case 3:
					i3 = null;
					i3 = 0;

					while (( i3 ??0) < ( hits ??0)) {
						((dynamic)this.target).WriteMsg( new Sound( GlobalFuncs.get_sfx( "gunshot" ), false, true, 0, 25 ) );
						Task13.Sleep( Rand13.Int( 1, 5 ) );
						i3++;
					}
					((dynamic)this.target).WriteMsg( new Sound( GlobalFuncs.get_sfx( "bodyfall" ), false, true, 0, 25 ) );
					break;
				case 4:
					((dynamic)this.target).WriteMsg( new Sound( "sound/weapons/Egloves.ogg", false, true, 40 ) );
					((dynamic)this.target).WriteMsg( new Sound( GlobalFuncs.get_sfx( "bodyfall" ), false, true, 0, 25 ) );
					Task13.Sleep( 30 );
					((dynamic)this.target).WriteMsg( new Sound( "sound/weapons/cablecuff.ogg", false, true, 0, 15 ) );
					break;
				case 5:
					i4 = null;
					i4 = 0;

					while (( i4 ??0) < ( hits ??0)) {
						((dynamic)this.target).WriteMsg( new Sound( "sound/items/timer.ogg", false, true, 0, 25 ) );
						Task13.Sleep( 15 );
						i4++;
					}
					break;
			}
			GlobalFuncs.qdel( this );
			return;
		}

	}

}