// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Stack_Medical_Ointment : Obj_Item_Stack_Medical {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.singular_name = "ointment";
			this.origin_tech = "biotech=1";
			this.icon_state = "ointment";
		}

		public Obj_Item_Stack_Medical_Ointment ( dynamic loc = null, int? amount = null ) : base( (object)(loc), amount ) {
			
		}

		// Function from file: medical.dm
		public override bool? attack( dynamic M = null, dynamic user = null, string def_zone = null, bool? eat_override = null ) {
			dynamic H = null;
			dynamic affecting = null;

			
			if ( base.attack( (object)(M), (object)(user), def_zone, eat_override ) == true ) {
				return true;
			}

			if ( M is Mob_Living_Carbon_Human ) {
				H = M;
				affecting = ((Mob_Living_Carbon_Human)H).get_organ( ((dynamic)user.zone_sel).selecting );

				if ( Lang13.Bool( affecting.open ) == false ) {
					
					if ( !( ((Organ_External)affecting).salve() != 0 ) ) {
						GlobalFuncs.to_chat( user, "<span class='warning'>The wounds on " + M + "'s " + affecting.display_name + " have already been salved.</span>" );
						return true;
					} else {
						((Ent_Static)user).visible_message( "<span class='notice'>" + user + " salves the wounds on " + M + "'s " + affecting.display_name + ".</span>", "<span class='notice'>You salve the wounds on " + M + "'s " + affecting.display_name + ".</span>" );
						this.use( 1 );
					}
				} else if ( GlobalFuncs.can_operate( H ) ) {
					
					if ( GlobalFuncs.do_surgery( H, user, this ) ) {
						return null;
					}
				} else {
					GlobalFuncs.to_chat( user, "<span class='notice'>" + H + "'s " + affecting.display_name + " is cut wide open, you'll need more than some ointment!</span>" );
				}
			}
			return null;
		}

	}

}