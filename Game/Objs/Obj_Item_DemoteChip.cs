// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_DemoteChip : Obj_Item {

		public string target_name = null;
		public bool cap = false;
		public bool hos = false;
		public bool cmo = false;
		public bool ce = false;
		public bool hop = false;
		public bool rd = false;
		public bool clown = false;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.w_class = 1;
			this.icon = "icons/obj/card.dmi";
			this.icon_state = "demote_chip";
		}

		// Function from file: human_resources.dm
		public Obj_Item_DemoteChip ( dynamic loc = null ) : base( (object)(loc) ) {
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			return;
		}

		// Function from file: human_resources.dm
		public override dynamic attackby( dynamic a = null, dynamic b = null, dynamic c = null ) {
			dynamic S = null;

			
			if ( a is Obj_Item_Weapon_Stamp ) {
				S = a;

				if ( this.target_name != null ) {
					
					if ( S is Obj_Item_Weapon_Stamp_Captain ) {
						
						if ( !this.cap ) {
							this.desc = this.desc + "/Captain";
						}
						this.cap = true;
						GlobalFuncs.to_chat( b, "<span class='notice'>You stamp the demotion microchip of " + this.target_name + ".</span>" );
					}

					if ( S is Obj_Item_Weapon_Stamp_Hop ) {
						
						if ( !this.hop ) {
							this.desc = this.desc + "/HoP";
						}
						this.hop = true;
						GlobalFuncs.to_chat( b, "<span class='notice'>You stamp the demotion microchip of " + this.target_name + ".</span>" );
					}

					if ( S is Obj_Item_Weapon_Stamp_Hos ) {
						
						if ( !this.hos ) {
							this.desc = this.desc + "/HoS";
						}
						this.hos = true;
						GlobalFuncs.to_chat( b, "<span class='notice'>You stamp the demotion microchip of " + this.target_name + ".</span>" );
					}

					if ( S is Obj_Item_Weapon_Stamp_Ce ) {
						
						if ( !this.ce ) {
							this.desc = this.desc + "/CE";
						}
						this.ce = true;
						GlobalFuncs.to_chat( b, "<span class='notice'>You stamp the demotion microchip of " + this.target_name + ".</span>" );
					}

					if ( S is Obj_Item_Weapon_Stamp_Rd ) {
						
						if ( !this.rd ) {
							this.desc = this.desc + "/RD";
						}
						this.rd = true;
						GlobalFuncs.to_chat( b, "<span class='notice'>You stamp the demotion microchip of " + this.target_name + ".</span>" );
					}

					if ( S is Obj_Item_Weapon_Stamp_Cmo ) {
						
						if ( !this.cmo ) {
							this.desc = this.desc + "/CMO";
						}
						this.cmo = true;
						GlobalFuncs.to_chat( b, "<span class='notice'>You stamp the demotion microchip of " + this.target_name + ".</span>" );
					}

					if ( S is Obj_Item_Weapon_Stamp_Clown ) {
						
						if ( !this.clown ) {
							this.desc = this.desc + "/HONK";
						}
						this.clown = true;
						GlobalFuncs.to_chat( b, "<span class='notice'>You stamp the demotion microchip of " + this.target_name + ".</span>" );
					}
				} else {
					GlobalFuncs.to_chat( b, "<span class='notice'>The chip has not been initialized.</span>" );
				}
			} else {
				return base.attackby( (object)(a), (object)(b), (object)(c) );
			}
			return null;
		}

		// Function from file: human_resources.dm
		public override dynamic attack_self( dynamic user = null, dynamic flag = null, bool? emp = null ) {
			string str = null;

			
			if ( this.target_name != null ) {
				GlobalFuncs.to_chat( user, "<span class='notice'>The target name cannot be reset!</span>" );
				return null;
			} else {
				str = String13.SubStr( GlobalFuncs.reject_bad_text( Interface13.Input( user, "Enter the properly capitalized name for demotion", "Set name", "", null, InputType.Str | InputType.Null ) ), 1, 26 );

				if ( !this.Adjacent( user ) || Lang13.Bool( user.stat ) ) {
					return null;
				}

				if ( !Lang13.Bool( str ) ) {
					Interface13.Alert( "Invalid name." );
					this.target_name = null;
					return null;
				}
				this.target_name = str;
				this.name = "" + this.target_name + "'s demotion microchip";
				this.desc = this.desc + " Stamped by:";
				GlobalFuncs.to_chat( user, "<span class='notice'>The demotion microchip for " + this.target_name + " is now ready to be stamped.</span>" );
			}
			return null;
		}

	}

}