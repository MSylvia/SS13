// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Vehicle_Atv_Turret : Obj_Vehicle_Atv {

		public Obj_Machinery_PortaTurret_Syndicate_VehicleTurret turret = null;

		// Function from file: atv.dm
		public Obj_Vehicle_Atv_Turret ( dynamic loc = null ) : base( (object)(loc) ) {
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			this.turret = new Obj_Machinery_PortaTurret_Syndicate_VehicleTurret( this.loc );
			this.turret.v_base = this;
			return;
		}

		// Function from file: atv.dm
		public override void handle_vehicle_offsets(  ) {
			base.handle_vehicle_offsets();

			if ( this.turret != null ) {
				this.turret.loc = this.loc;

				switch ((int)( this.dir )) {
					case 1:
						this.turret.pixel_x = 0;
						this.turret.pixel_y = 4;
						break;
					case 4:
						this.turret.pixel_x = -12;
						this.turret.pixel_y = 4;
						break;
					case 2:
						this.turret.pixel_x = 0;
						this.turret.pixel_y = 4;
						break;
					case 8:
						this.turret.pixel_x = 12;
						this.turret.pixel_y = 4;
						break;
				}
			}
			return;
		}

		// Function from file: atv.dm
		public override void handle_vehicle_layer(  ) {
			
			if ( this.dir == GlobalVars.SOUTH ) {
				this.layer = 401;
			} else {
				this.layer = GlobalVars.OBJ_LAYER;
			}

			if ( this.turret != null ) {
				
				if ( this.dir == GlobalVars.NORTH ) {
					this.turret.layer = 401;
				} else {
					this.turret.layer = GlobalVars.OBJ_LAYER;
				}
			}
			return;
		}

	}

}