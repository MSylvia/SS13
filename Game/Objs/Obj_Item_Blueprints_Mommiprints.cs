// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Blueprints_Mommiprints : Obj_Item_Blueprints {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.attack_verb = new ByTable(new object [] { "attacked", "bapped", "hit" });
			this.can_rename_areas = new ByTable(new object [] { 4 });
		}

		public Obj_Item_Blueprints_Mommiprints ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: mommiprints.dm
		public override dynamic interact( dynamic user = null, bool? flag1 = null ) {
			dynamic A = null;
			string text = null;

			A = this.get_area();
			text = "<HTML><head><title>" + this + "</title></head><BODY>\n<h2>" + GlobalFuncs.station_name() + " blueprints</h2>\n<small>These blueprints are for the creation of new rooms only; you cannot change existing rooms.</small><hr>\n";

			switch ((int)( this.get_area_type() )) {
				case 2:
					text += new Txt( "\n<p>According the blueprints, you are now in <b>outer space</b>, Beware the space carp.</p>\n<p><a href='?src=" ).Ref( this ).str( ";action=create_area'>Mark this place as new area.</a></p>\n" ).ToString();
					break;
				case 1:
					text += "\n<p>According the blueprints, you are now in <b>\"" + A.name + "\"</b>.</p>\n<p>You may not change the existing rooms, only create new ones and rename them.</p>\n";
					break;
				case 3:
					text += "\n<p>This place isn't noted on the blueprint.</p>\n";
					break;
				case 4:
					text += "\n<p>According to the blueprints, you are now in <b>\"" + A.name + "\"</b> This place seems to be relatively new on the blueprints.</p>";
					text += new Txt( "<p>You may <a href='?src=" ).Ref( this ).str( ";action=edit_area'>move an amendment</a> to the drawing.</p>" ).ToString();
					break;
				default:
					return null;
					break;
			}
			text += "</BODY></HTML>";
			Interface13.Browse( Task13.User, text, "window=blueprints" );
			GlobalFuncs.onclose( Task13.User, "blueprints" );
			return null;
		}

		// Function from file: mommiprints.dm
		public override dynamic Topic( string href = null, ByTable href_list = null, dynamic hclient = null, HtmlInterface currui = null ) {
			
			if ( Task13.User.restrained() || Lang13.Bool( Task13.User.stat ) || Task13.User.get_active_hand() != this ) {
				return 1;
			}

			if ( Lang13.Bool( base.Topic( href, href_list, (object)(hclient) ) ) ) {
				return 1;
			}
			return null;
		}

		// Function from file: mommiprints.dm
		public override dynamic attack_self( dynamic user = null, dynamic flag = null, bool? emp = null ) {
			this.interact();
			return null;
		}

	}

}