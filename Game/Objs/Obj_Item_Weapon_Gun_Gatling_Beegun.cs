// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_Gun_Gatling_Beegun : Obj_Item_Weapon_Gun_Gatling {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.item_state = "beegun0";
			this.origin_tech = "materials=4;combat=6;biotech=5";
			this.icon_state = "beegun";
		}

		public Obj_Item_Weapon_Gun_Gatling_Beegun ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: minigun.dm
		public override bool? update_icon( dynamic location = null, dynamic target = null ) {
			
			dynamic _a = this.current_shells; // Was a switch-case, sorry for the mess.
			if ( 150<=_a&&_a<=Double.PositiveInfinity ) {
				this.icon_state = "beegun100";
			} else if ( 100<=_a&&_a<=149 ) {
				this.icon_state = "beegun75";
			} else if ( 50<=_a&&_a<=99 ) {
				this.icon_state = "beegun50";
			} else if ( 1<=_a&&_a<=49 ) {
				this.icon_state = "beegun25";
			} else {
				this.icon_state = "beegun0";
			}
			return null;
		}

		// Function from file: minigun.dm
		public override bool process_chambered(  ) {
			
			if ( Lang13.Bool( this.in_chamber ) ) {
				return true;
			}

			if ( this.current_shells != 0 ) {
				this.current_shells--;
				this.update_icon();
				this.in_chamber = new Obj_Item_Projectile_Bullet_Beegun();
				return true;
			}
			return false;
		}

		// Function from file: minigun.dm
		public override void update_wield( dynamic user = null ) {
			this.item_state = "beegun" + ( Lang13.Bool( this.wielded ) ? true : false );

			if ( Lang13.Bool( this.wielded ) ) {
				this.slowdown = 10;
			} else {
				this.slowdown = 0;
			}
			return;
		}

	}

}