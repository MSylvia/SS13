// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Effect_Starspawner : Obj_Effect {

		public int spawndir = 2;
		public bool spawning = false;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.invisibility = 101;
		}

		public Obj_Effect_Starspawner ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: shuttle_controller.dm
		public void startspawn(  ) {
			Obj_Effect_Bgstar S = null;

			this.spawning = true;

			while (this.spawning) {
				Task13.Sleep( Rand13.Int( 2, 30 ) );
				S = new Obj_Effect_Bgstar( Map13.GetTile( this.x, this.y, this.z ) );
				S.direction = this.spawndir;
				Task13.Schedule( 0, (Task13.Closure)(() => {
					S.startmove();
					return;
				}));
			}
			return;
		}

	}

}