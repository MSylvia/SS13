// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Structure_Bomberman_Power : Obj_Structure_Bomberman {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.icon_state = "bomb_power";
		}

		public Obj_Structure_Bomberman_Power ( dynamic loc = null, int? Bpower = null, bool? destroy = null, bool? hurt = null, Obj_Item_Weapon_Bomberman dispenser = null, int? line_dir = null ) : base( (object)(loc), Bpower, destroy, hurt, dispenser, line_dir ) {
			
		}

		// Function from file: bomberman.dm
		public override void detonate(  ) {
			dynamic T = null;

			T = GlobalFuncs.get_turf( this );

			if ( !Lang13.Bool( T ) ) {
				GlobalFuncs.qdel( this );
				return;
			}
			GlobalFuncs.playsound( T, "sound/bomberman/bombexplode.ogg", 100, 1 );
			Task13.Schedule( 0, (Task13.Closure)(() => {
				new Obj_Structure_Bomberflame( T, true, 16, GlobalVars.SOUTH, this.destroy_environnement, this.hurt_players );
				return;
			}));
			GlobalFuncs.qdel( this );
			return;
		}

	}

}