// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_AmmoStorage_Magazine_Lawgiver : Obj_Item_AmmoStorage_Magazine {

		public int stuncharge = 100;
		public int lasercharge = 100;
		public string rapid_ammo_type = "/obj/item/ammo_casing/a12mm";
		public int rapid_ammo_count = 5;
		public string flare_ammo_type = "/obj/item/ammo_casing/shotgun/flare";
		public int flare_ammo_count = 5;
		public string hi_ex_ammo_type = "/obj/item/ammo_casing/a75";
		public int hi_ex_ammo_count = 5;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.origin_tech = "combat=2;bluespace=5";
			this.max_ammo = 0;
			this.multiple_sprites = true;
			this.sprite_modulo = 2;
			this.icon_state = "lawgiver";
		}

		// Function from file: magazines.dm
		public Obj_Item_AmmoStorage_Magazine_Lawgiver ( dynamic loc = null ) : base( (object)(loc) ) {
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			this.update_icon();
			return;
		}

		// Function from file: magazines.dm
		public bool isFull(  ) {
			
			if ( this.stuncharge == 100 && this.lasercharge == 100 && this.rapid_ammo_count == 5 && this.flare_ammo_count == 5 && this.hi_ex_ammo_count == 5 ) {
				return true;
			} else {
				return false;
			}
		}

		// Function from file: magazines.dm
		public override bool? update_icon( dynamic location = null, dynamic target = null ) {
			Image stuncharge_overlay = null;
			Image lasercharge_overlay = null;
			Image rapid_ammo_overlay = null;
			Image flare_ammo_overlay = null;
			Image hi_ex_ammo_overlay = null;

			this.overlays.len = 0;

			if ( this.stuncharge > 0 ) {
				stuncharge_overlay = new Image( "icons/obj/ammo.dmi", this, "" + Lang13.Initial( this, "icon_state" ) + "-stun-" + this.stuncharge / 20 );
				this.overlays.Add( stuncharge_overlay );
			}

			if ( this.lasercharge > 0 ) {
				lasercharge_overlay = new Image( "icons/obj/ammo.dmi", this, "" + Lang13.Initial( this, "icon_state" ) + "-laser-" + this.lasercharge / 20 );
				this.overlays.Add( lasercharge_overlay );
			}

			if ( this.rapid_ammo_count > 0 ) {
				rapid_ammo_overlay = new Image( "icons/obj/ammo.dmi", this, "" + Lang13.Initial( this, "icon_state" ) + "-rapid-" + this.rapid_ammo_count );
				this.overlays.Add( rapid_ammo_overlay );
			}

			if ( this.flare_ammo_count > 0 ) {
				flare_ammo_overlay = new Image( "icons/obj/ammo.dmi", this, "" + Lang13.Initial( this, "icon_state" ) + "-flare-" + this.flare_ammo_count );
				this.overlays.Add( flare_ammo_overlay );
			}

			if ( this.hi_ex_ammo_count > 0 ) {
				hi_ex_ammo_overlay = new Image( "icons/obj/ammo.dmi", this, "" + Lang13.Initial( this, "icon_state" ) + "-hiEX-" + this.hi_ex_ammo_count );
				this.overlays.Add( hi_ex_ammo_overlay );
			}
			return null;
		}

		// Function from file: magazines.dm
		public override dynamic examine( dynamic user = null, string size = null ) {
			base.examine( (object)(user), size );
			GlobalFuncs.to_chat( user, new Txt( "<span class='info'>It has enough energy for " ).item( this.stuncharge / 20 ).str( " stun shot" ).s().str( " remaining.</span>" ).ToString() );
			GlobalFuncs.to_chat( user, new Txt( "<span class='info'>It has enough energy for " ).item( this.lasercharge / 20 ).str( " laser shot" ).s().str( " remaining.</span>" ).ToString() );
			GlobalFuncs.to_chat( user, new Txt( "<span class='info'>It has " ).item( this.rapid_ammo_count ).str( " rapid fire round" ).s().str( " remaining.</span>" ).ToString() );
			GlobalFuncs.to_chat( user, new Txt( "<span class='info'>It has " ).item( this.flare_ammo_count ).str( " flare round" ).s().str( " remaining.</span>" ).ToString() );
			GlobalFuncs.to_chat( user, new Txt( "<span class='info'>It has " ).item( this.hi_ex_ammo_count ).str( " hi-EX round" ).s().str( " remaining.</span>" ).ToString() );
			return null;
		}

	}

}