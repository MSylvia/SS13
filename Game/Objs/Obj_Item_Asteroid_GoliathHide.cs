// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Asteroid_GoliathHide : Obj_Item_Asteroid {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.icon_state = "goliath_hide";
			this.layer = 4;
		}

		public Obj_Item_Asteroid_GoliathHide ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: mining_mobs.dm
		public override bool afterattack( dynamic A = null, dynamic user = null, bool? flag = null, dynamic _params = null, bool? struggle = null ) {
			dynamic C = null;
			ByTable current_armor = null;

			
			if ( flag == true ) {
				
				if ( A is Obj_Item_Clothing_Suit_Space_Rig_Mining || A is Obj_Item_Clothing_Head_Helmet_Space_Rig_Mining || A is Obj_Item_Clothing_Suit_Space_Plasmaman_Miner || A is Obj_Item_Clothing_Head_Helmet_Space_Plasmaman_Miner ) {
					C = A;
					current_armor = C.armor;

					if ( Convert.ToDouble( current_armor["melee"] ) < 90 ) {
						current_armor["melee"] = Num13.MinInt( Convert.ToInt32( current_armor["melee"] + 10 ), 90 );
						GlobalFuncs.to_chat( user, "<span class='info'>You strengthen " + A + ", improving its resistance against melee attacks.</span>" );
						GlobalFuncs.qdel( this );
					} else {
						GlobalFuncs.to_chat( user, "<span class='info'>You can't improve " + C + " any further.</span>" );
					}
				}
			}
			return false;
		}

	}

}