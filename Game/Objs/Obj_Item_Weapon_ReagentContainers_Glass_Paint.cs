// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_ReagentContainers_Glass_Paint : Obj_Item_Weapon_ReagentContainers_Glass {

		public string paint_type = "";

		protected override void __FieldInit() {
			base.__FieldInit();

			this.item_state = "paintcan";
			this.starting_materials = new ByTable().Set( "$iron", 200 );
			this.w_type = 4;
			this.melt_temperature = 1783.1500244140625;
			this.possible_transfer_amounts = new ByTable(new object [] { 10, 20, 30, 50, 70 });
			this.volume = 70;
			this.icon_state = "paint_neutral";
		}

		// Function from file: paint.dm
		public Obj_Item_Weapon_ReagentContainers_Glass_Paint ( dynamic loc = null ) : base( (object)(loc) ) {
			
			if ( this.paint_type == "remover" ) {
				this.name = "paint remover bucket";
			} else if ( Lang13.Bool( this.paint_type ) && Lang13.Length( this.paint_type ) > 0 ) {
				this.name = this.paint_type + " " + this.name;
			}
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			((Reagents)this.reagents).add_reagent( "paint_" + this.paint_type, this.volume );
			return;
		}

		// Function from file: paint.dm
		public override bool afterattack( dynamic A = null, dynamic user = null, bool? flag = null, dynamic _params = null, bool? struggle = null ) {
			dynamic O = null;

			
			if ( A is Tile_Simulated && ( this.reagents.total_volume ??0) > 5 ) {
				
				foreach (dynamic _a in Lang13.Enumerate( Map13.FetchViewers( null, user ) )) {
					O = _a;
					
					O.show_message( new Txt( "<span class='warning'>" ).The( A ).item().str( " has been splashed with something by " ).item( user ).str( "!</span>" ).ToString(), 1 );
				}
				Task13.Schedule( 5, (Task13.Closure)(() => {
					((Reagents)this.reagents).reaction( A, GlobalVars.TOUCH );
					((Reagents)this.reagents).remove_any( 5 );
					return;
				}));
			} else {
				return base.afterattack( (object)(A), (object)(user), flag, (object)(_params), struggle );
			}
			return false;
		}

		// Function from file: paint.dm
		public override dynamic mop_act( Obj_Item_Weapon_Mop M = null, dynamic user = null ) {
			return 0;
		}

		// Function from file: paint.dm
		public override dynamic suicide_act( Mob_Living_Carbon_Human user = null ) {
			GlobalFuncs.to_chat( Map13.FetchViewers( null, user ), new Txt( "<span class='danger'>" ).item( user ).str( " is taking " ).his_her_its_their().str( " hand and eating the " ).item( this.name ).str( "! It looks like " ).he_she_it_they().str( "'s  trying to commit suicide!</span>" ).ToString() );
			return 12;
		}

	}

}