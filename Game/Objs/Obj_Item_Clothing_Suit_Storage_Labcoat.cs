// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Clothing_Suit_Storage_Labcoat : Obj_Item_Clothing_Suit_Storage {

		public string base_icon_state = "labcoat";
		public bool open = true;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.item_state = "labcoat";
			this.blood_overlay_type = "coat";
			this.v_allowed = new ByTable(new object [] { 
				typeof(Obj_Item_Device_Analyzer), 
				typeof(Obj_Item_Stack_Medical), 
				typeof(Obj_Item_Weapon_Dnainjector), 
				typeof(Obj_Item_Weapon_ReagentContainers_Dropper), 
				typeof(Obj_Item_Weapon_ReagentContainers_Syringe), 
				typeof(Obj_Item_Weapon_ReagentContainers_Hypospray), 
				typeof(Obj_Item_Device_Healthanalyzer), 
				typeof(Obj_Item_Device_Flashlight_Pen)
			 });
			this.armor = new ByTable().Set( "melee", 0 ).Set( "bullet", 0 ).Set( "laser", 0 ).Set( "energy", 0 ).Set( "bomb", 0 ).Set( "bio", 50 ).Set( "rad", 0 );
			this.species_fit = new ByTable(new object [] { "Vox" });
		}

		// Function from file: labcoat.dm
		public Obj_Item_Clothing_Suit_Storage_Labcoat ( dynamic loc = null ) : base( (object)(loc) ) {
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			this.update_icon();
			return;
		}

		// Function from file: labcoat.dm
		public override bool? update_icon( dynamic location = null, dynamic target = null ) {
			
			if ( this.open ) {
				this.icon_state = "" + this.base_icon_state + "_open";
			} else {
				this.icon_state = "" + this.base_icon_state;
			}
			return null;
		}

		// Function from file: labcoat.dm
		[Verb]
		[VerbInfo( name: "Toggle Labcoat Buttons", group: "Object", access: VerbAccess.InUserContents, range: 127 )]
		public bool toggle(  ) {
			
			if ( Task13.User.incapacitated() ) {
				return false;
			}

			if ( this.open ) {
				GlobalFuncs.to_chat( Task13.User, "You button up the labcoat." );
				this.body_parts_covered |= 16384;
			} else {
				GlobalFuncs.to_chat( Task13.User, "You unbutton the labcoat." );
				this.body_parts_covered ^= 16384;
			}
			this.open = !this.open;
			this.update_icon();
			Task13.User.update_inv_wear_suit();
			return false;
		}

	}

}