// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Machinery_BluespaceBeacon : Obj_Machinery {

		public Obj_Item_Device_Radio_Beacon Beacon = null;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.level = 1;
			this.anchored = 1;
			this.icon = "icons/obj/objects.dmi";
			this.icon_state = "floor_beaconf";
			this.layer = 2.5;
		}

		// Function from file: Beacon.dm
		public Obj_Machinery_BluespaceBeacon ( dynamic loc = null ) : base( (object)(loc) ) {
			Ent_Static T = null;

			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			T = this.loc;
			this.Beacon = new Obj_Item_Device_Radio_Beacon();
			this.Beacon.invisibility = 100;
			this.Beacon.loc = T;
			this.hide( Lang13.Bool( ((dynamic)T).intact ) );
			return;
		}

		// Function from file: Beacon.dm
		public override int? process( dynamic seconds = null ) {
			Ent_Static T = null;

			
			if ( !( this.Beacon != null ) ) {
				T = this.loc;
				this.Beacon = new Obj_Item_Device_Radio_Beacon();
				this.Beacon.invisibility = 100;
				this.Beacon.loc = T;
			}

			if ( this.Beacon != null ) {
				
				if ( this.Beacon.loc != this.loc ) {
					this.Beacon.loc = this.loc;
				}
			}
			this.updateicon();
			return null;
		}

		// Function from file: Beacon.dm
		public void updateicon(  ) {
			string state = null;

			state = "floor_beacon";

			if ( this.invisibility != 0 ) {
				this.icon_state = "" + state + "f";
			} else {
				this.icon_state = "" + state;
			}
			return;
		}

		// Function from file: Beacon.dm
		public override void hide( bool h = false ) {
			this.invisibility = ( h ? 101 : 0 );
			this.updateicon();
			return;
		}

		// Function from file: Beacon.dm
		public override dynamic Destroy(  ) {
			
			if ( this.Beacon != null ) {
				GlobalFuncs.qdel( this.Beacon );
			}
			this.Beacon = null;
			return base.Destroy();
		}

	}

}