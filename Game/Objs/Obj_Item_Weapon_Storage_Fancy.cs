// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_Storage_Fancy : Obj_Item_Weapon_Storage {

		public string icon_type = "donut";
		public Type spawn_type = null;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.burn_state = 0;
			this.icon = "icons/obj/food/containers.dmi";
			this.icon_state = "donutbox6";
		}

		// Function from file: fancy.dm
		public Obj_Item_Weapon_Storage_Fancy ( dynamic loc = null ) : base( (object)(loc) ) {
			double i = 0;

			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;

			foreach (dynamic _a in Lang13.IterateRange( 1, this.storage_slots )) {
				i = _a;
				
				Lang13.Call( this.spawn_type, this );
			}
			return;
		}

		// Function from file: fancy.dm
		public override double examine( dynamic user = null ) {
			base.examine( (object)(user) );

			if ( this.contents.len == 1 ) {
				user.WriteMsg( "There is one " + this.icon_type + " left." );
			} else {
				user.WriteMsg( "There are " + ( this.contents.len <= 0 ? "no" : "" + this.contents.len ) + " " + this.icon_type + "s left." );
			}
			return 0;
		}

		// Function from file: fancy.dm
		public override bool update_icon( dynamic new_state = null, dynamic new_icon = null, int? new_px = null, int? new_py = null ) {
			new_state = new_state ?? 0;

			double total_contents = 0;

			total_contents = this.contents.len - Convert.ToDouble( new_state );
			this.icon_state = "" + this.icon_type + "box" + total_contents;
			return false;
		}

	}

}