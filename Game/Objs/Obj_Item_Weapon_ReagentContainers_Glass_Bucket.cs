// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_ReagentContainers_Glass_Bucket : Obj_Item_Weapon_ReagentContainers_Glass {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.item_state = "bucket";
			this.starting_materials = new ByTable().Set( "$iron", 200 );
			this.w_type = 4;
			this.amount_per_transfer_from_this = 20;
			this.possible_transfer_amounts = new ByTable(new object [] { 10, 20, 30, 50, 70 });
			this.volume = 70;
			this.slot_flags = 64;
			this.icon = "icons/obj/janitor.dmi";
			this.icon_state = "bucket";
		}

		public Obj_Item_Weapon_ReagentContainers_Glass_Bucket ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: glass.dm
		public override dynamic attackby( dynamic a = null, dynamic b = null, dynamic c = null ) {
			
			if ( GlobalFuncs.isprox( a ) ) {
				GlobalFuncs.to_chat( b, new Txt( "You add " ).the( a ).item().str( " to " ).the( this ).item().str( "." ).ToString() );
				GlobalFuncs.qdel( a );
				a = null;
				((Mob)b).put_in_hands( new Obj_Item_Weapon_BucketSensor() );
				((Mob)b).drop_from_inventory( this );
				GlobalFuncs.qdel( this );
			}
			return null;
		}

		// Function from file: glass.dm
		public override dynamic mop_act( Obj_Item_Weapon_Mop M = null, dynamic user = null ) {
			
			if ( Lang13.Bool( base.mop_act( M, (object)(user) ) ) ) {
				
				if ( ( this.reagents.total_volume ??0) >= 1 ) {
					
					dynamic _a = this.reagents.total_volume; // Was a switch-case, sorry for the mess.
					if ( 1<=_a&&_a<=30 ) {
						
						if ( ( M.reagents.total_volume ??0) >= 5 ) {
							GlobalFuncs.to_chat( user, new Txt( "<span class='notice'>You dip " ).the( M ).item().str( "'s head into " ).the( this ).item().str( " but don't soak anything up.</span>" ).ToString() );
							return 1;
						}
						((Reagents)this.reagents).trans_to( M, 1 );
						GlobalFuncs.to_chat( user, "<span class='notice'>You barely manage to wet " + M + "</span>" );
						GlobalFuncs.playsound( GlobalFuncs.get_turf( this ), "sound/effects/slosh.ogg", 25, 1 );
					} else if ( 30<=_a&&_a<=100 ) {
						
						if ( ( M.reagents.total_volume ??0) >= 5 ) {
							GlobalFuncs.to_chat( user, new Txt( "<span class='notice'>You dip " ).the( M ).item().str( "'s head into " ).the( this ).item().str( " but don't soak anything up.</span>" ).ToString() );
							return 1;
						}
						((Reagents)this.reagents).trans_to( M, 2 );
						GlobalFuncs.to_chat( user, "<span class='notice'>You manage to wet " + M + "</span>" );
						GlobalFuncs.playsound( GlobalFuncs.get_turf( this ), "sound/effects/slosh.ogg", 25, 1 );
					} else if ( 100<=_a&&_a<=Double.PositiveInfinity ) {
						
						if ( ( M.reagents.total_volume ??0) >= 10 ) {
							GlobalFuncs.to_chat( user, new Txt( "<span class='notice'>You dip " ).the( M ).item().str( "'s head into " ).the( this ).item().str( " but don't soak anything up.</span>" ).ToString() );
							return 1;
						}
						((Reagents)this.reagents).trans_to( M, 5 );
						GlobalFuncs.to_chat( user, "<span class='notice'>You manage to soak " + M + "</span>" );
						GlobalFuncs.playsound( GlobalFuncs.get_turf( this ), "sound/effects/slosh.ogg", 25, 1 );
					} else {
						GlobalFuncs.to_chat( user, "What" );
						return 1;
					}
				} else {
					GlobalFuncs.to_chat( user, "<span class='notice'>Nothing left to wet " + M + " with!</span>" );
				}
				return 1;
			}
			return null;
		}

	}

}