// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_Bedsheet : Obj_Item_Weapon {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.item_state = "bedsheet";
			this.throw_speed = 1;
			this.throw_range = 2;
			this.w_class = 1;
			this._color = "white";
			this.icon_state = "sheet";
			this.layer = 4;
		}

		public Obj_Item_Weapon_Bedsheet ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: bedsheet_bin.dm
		public override dynamic attack_self( dynamic user = null, dynamic flag = null, bool? emp = null ) {
			new ByTable().Set( 1, this ).Set( "force_drop", 1 ).Apply( Lang13.BindFunc( user, "drop_item" ) );

			if ( this.layer == Lang13.Initial( this, "layer" ) ) {
				this.layer = 5;
			} else {
				this.layer = Convert.ToDouble( Lang13.Initial( this, "layer" ) );
			}
			this.add_fingerprint( user );
			return null;
		}

		// Function from file: bedsheet_bin.dm
		public override dynamic attackby( dynamic a = null, dynamic b = null, dynamic c = null ) {
			int? cut_time = null;
			dynamic location = null;
			int? x = null;
			Obj_Item_Weapon_ReagentContainers_Glass_Rag S = null;

			cut_time = 0;

			if ( a is Obj_Item_Weapon_Scalpel ) {
				cut_time = 20;
			} else if ( a is Obj_Item_Weapon_Kitchen_Utensil_Knife_Large || a is Obj_Item_Weapon_Kitchen_Utensil_Knife_Large_Butch ) {
				cut_time = 40;
			} else if ( a is Obj_Item_Weapon_Shard ) {
				cut_time = 80;
			} else if ( a is Obj_Item_Weapon_Kitchen_Utensil_Knife_Plastic ) {
				cut_time = 160;
			}

			if ( Lang13.Bool( cut_time ) ) {
				GlobalFuncs.to_chat( b, "<span  class='notice'>You begin cutting the " + this + ".</span>" );

				if ( GlobalFuncs.do_after( b, this, cut_time ) ) {
					
					if ( !( this != null ) ) {
						return null;
					}
					GlobalFuncs.to_chat( b, "<span  class='notice'>You have cut the " + this + " into rags.</span>" );
					location = GlobalFuncs.get_turf( this );
					x = null;
					x = 0;

					while (( x ??0) <= 8) {
						S = new Obj_Item_Weapon_ReagentContainers_Glass_Rag( location );
						S.pixel_x = Rand13.Int( -5, 5 );
						S.pixel_y = Rand13.Int( -5, 5 );
						x++;
					}
					GlobalFuncs.qdel( this );
				}
			}
			return null;
		}

	}

}