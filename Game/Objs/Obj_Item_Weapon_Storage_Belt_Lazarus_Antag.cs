// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_Storage_Belt_Lazarus_Antag : Obj_Item_Weapon_Storage_Belt_Lazarus {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.can_hold = new ByTable(new object [] { "/obj/item/device/mobcapsule" });
			this.icon_state = "lazarusbelt";
		}

		// Function from file: belt.dm
		public Obj_Item_Weapon_Storage_Belt_Lazarus_Antag ( dynamic loc = null, dynamic user = null ) : base( (object)(loc) ) {
			ByTable blocked = null;
			dynamic critters = null;
			Obj_Item_Device_Mobcapsule MC = null;
			dynamic chosen = null;
			dynamic NM = null;

			blocked = new ByTable(new object [] { typeof(Mob_Living_SimpleAnimal_Hostile_Hivebot_Tele) });
			critters = GlobalFuncs.existing_typesof( typeof(Mob_Living_SimpleAnimal_Hostile) ) - blocked;
			critters = GlobalFuncs.shuffle( critters );

			while (this.contents.len < 6) {
				MC = new Obj_Item_Device_Mobcapsule( this );
				chosen = Rand13.PickFromTable( critters );
				critters -= chosen;
				NM = Lang13.Call( chosen, MC );
				NM.faction = new Txt( "lazarus " ).Ref( user ).ToString();
				NM.friends.Add( user );
				MC.contained_mob = NM;
			}
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			return;
		}

	}

}