// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Machinery_Camera_Autoname : Obj_Machinery_Camera {

		public int number = 0;

		// Function from file: presets.dm
		public Obj_Machinery_Camera_Autoname ( dynamic loc = null ) : base( (object)(loc) ) {
			dynamic A = null;
			Obj_Machinery_Camera_Autoname C = null;
			dynamic CA = null;

			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			Task13.Schedule( 10, (Task13.Closure)(() => {
				this.number = 1;
				A = GlobalFuncs.get_area( this );

				if ( Lang13.Bool( A ) ) {
					
					foreach (dynamic _a in Lang13.Enumerate( GlobalVars.machines, typeof(Obj_Machinery_Camera_Autoname) )) {
						C = _a;
						

						if ( C == this ) {
							continue;
						}
						CA = GlobalFuncs.get_area( C );

						if ( CA.type == A.type ) {
							
							if ( C.number != 0 ) {
								this.number = Num13.MaxInt( this.number, C.number + 1 );
							}
						}
					}
					this.c_tag = "" + A.name + " #" + this.number;
				}
				return;
			}));
			return;
		}

	}

}