// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Effect_Effect_Smoke : Obj_Effect_Effect {

		public int amount = 6;
		public int time_to_live = 100;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.pixel_x = -32;
			this.pixel_y = -32;
			this.icon = "icons/effects/96x96.dmi";
			this.icon_state = "smoke";
		}

		// Function from file: effect_system.dm
		public Obj_Effect_Effect_Smoke ( dynamic loc = null ) : base( (object)(loc) ) {
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			Task13.Schedule( this.time_to_live, (Task13.Closure)(() => {
				GlobalFuncs.qdel( this );
				return;
			}));
			return;
		}

		// Function from file: effect_system.dm
		public override dynamic Destroy( dynamic brokenup = null ) {
			
			if ( Lang13.Bool( this.reagents ) ) {
				this.reagents.my_atom = null;
				this.reagents = null;
			}
			base.Destroy( (object)(brokenup) );
			return null;
		}

		// Function from file: effect_system.dm
		public virtual bool affect( Ent_Dynamic M = null ) {
			
			if ( M is Mob_Living_Carbon ) {
				return false;
			}

			if ( ((dynamic)M).v_internal != null && Lang13.Bool( ((dynamic)M).wear_mask ) && Lang13.Bool( ((dynamic)M).wear_mask.flags & 8 ) ) {
				return false;
			}
			return true;
		}

		// Function from file: effect_system.dm
		public override dynamic Crossed( Ent_Dynamic O = null, dynamic X = null ) {
			base.Crossed( O, (object)(X) );

			if ( O is Mob_Living_Carbon ) {
				this.affect( O );
			}
			return null;
		}

	}

}