// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_Kitchen_Fork : Obj_Item_Weapon_Kitchen {

		public dynamic forkload = null;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.force = 5;
			this.w_class = 1;
			this.throw_speed = 3;
			this.throw_range = 5;
			this.flags = 64;
			this.origin_tech = "materials=1";
			this.attack_verb = new ByTable(new object [] { "attacked", "stabbed", "poked" });
			this.hitsound = "sound/weapons/bladeslice.ogg";
			this.icon_state = "fork";
		}

		public Obj_Item_Weapon_Kitchen_Fork ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: kitchen.dm
		public override bool attack( dynamic M = null, dynamic user = null, bool? def_zone = null ) {
			
			if ( !( M is Mob_Living_Carbon ) ) {
				return base.attack( (object)(M), (object)(user), def_zone );
			}

			if ( Lang13.Bool( this.forkload ) ) {
				
				if ( M == user ) {
					((Ent_Static)M).visible_message( "<span class='notice'>" + user + " eats a delicious forkful of omelette!</span>" );
					M.reagents.add_reagent( this.forkload.id, 1 );
				} else {
					((Ent_Static)M).visible_message( "<span class='notice'>" + user + " feeds " + M + " a delicious forkful of omelette!</span>" );
					M.reagents.add_reagent( this.forkload.id, 1 );
				}
				this.icon_state = "fork";
				this.forkload = null;
				return false;
			} else if ( user.zone_selected == "eyes" ) {
				
				if ( Lang13.Bool( user.disabilities & 256 ) && Rand13.PercentChance( 50 ) ) {
					M = user;
				}
				this.eyestab( M, user ); return false;
			} else {
				return base.attack( (object)(M), (object)(user), def_zone );
			}
			return false;
		}

	}

}