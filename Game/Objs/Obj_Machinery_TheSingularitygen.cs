// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Machinery_TheSingularitygen : Obj_Machinery {

		public int energy = 0;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.use_power = 0;
			this.machine_flags = 24;
			this.icon = "icons/obj/singularity.dmi";
			this.icon_state = "TheSingGen";
		}

		public Obj_Machinery_TheSingularitygen ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: generator.dm
		public override dynamic attackby( dynamic a = null, dynamic b = null, dynamic c = null ) {
			return base.attackby( (object)(a), (object)(b), (object)(c) );
		}

		// Function from file: generator.dm
		public override int wrenchAnchor( dynamic user = null ) {
			this.add_hiddenprint( user );
			return base.wrenchAnchor( (object)(user) );
		}

		// Function from file: generator.dm
		public override dynamic process(  ) {
			string prints = null;
			dynamic line = null;

			
			if ( this.energy < 200 ) {
				return null;
			}
			prints = "";

			if ( this.fingerprintshidden != null ) {
				prints = ", all touchers: ";

				foreach (dynamic _a in Lang13.Enumerate( this.fingerprintshidden )) {
					line = _a;
					
					prints += "," + line + " ";
				}
			}
			GlobalFuncs.log_admin( "New singularity made" + prints + ". Last touched by " + this.fingerprintslast + "." );
			GlobalFuncs.message_admins( "New singularity made" + prints + ". Last touched by " + this.fingerprintslast + "." );
			new Obj_Machinery_Singularity( GlobalFuncs.get_turf( this ), 50 );
			GlobalFuncs.qdel( this );
			return null;
		}

	}

}