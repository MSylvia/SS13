// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Clothing : Obj_Item {

		public ByTable species_restricted = null;
		public bool wizard_garb = false;
		public int eyeprot = 0;
		public int cold_breath_protection = 300;
		public int hot_breath_protection = 300;
		public int cold_speed_protection = 300;

		public Obj_Item_Clothing ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: clothing.dm
		public override int mob_can_equip( dynamic M = null, dynamic slot = null, bool? disable_warning = null, bool? automatic = null ) {
			int _default = 0;

			bool? wearable = null;
			bool? exclusive = null;
			dynamic H = null;

			_default = base.mob_can_equip( (object)(M), (object)(slot), disable_warning, automatic );

			if ( this.species_restricted != null && M is Mob_Living_Carbon_Human ) {
				wearable = null;
				exclusive = null;
				H = M;

				if ( this.species_restricted.Contains( "exclude" ) ) {
					exclusive = true;
				}

				if ( Lang13.Bool( H.species ) ) {
					
					if ( exclusive == true ) {
						
						if ( !this.species_restricted.Contains( H.species.name ) ) {
							wearable = true;
						}
					} else if ( this.species_restricted.Contains( H.species.name ) ) {
						wearable = true;
					}

					if ( _default != 0 ) {
						
						if ( !( wearable == true ) && slot != 15 && slot != 16 ) {
							GlobalFuncs.to_chat( M, "<span class='warning'>Your species cannot wear " + this + ".</span>" );
							return 0;
						}
					}
				}
			}
			return base.mob_can_equip( (object)(M), (object)(slot), disable_warning, automatic );
		}

	}

}