// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_Disk_Nuclear : Obj_Item_Weapon_Disk {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.item_state = "card-id";
			this.w_class = 1;
			this.icon_state = "nucleardisk";
		}

		// Function from file: nuclearbomb.dm
		public Obj_Item_Weapon_Disk_Nuclear ( dynamic loc = null ) : base( (object)(loc) ) {
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			GlobalVars.poi_list.Or( this );
			GlobalVars.SSobj.processing.Or( this );
			return;
		}

		// Function from file: nuclearbomb.dm
		public override dynamic Destroy(  ) {
			dynamic _default = null;

			Obj_Item_Weapon_Disk_Nuclear NEWDISK = null;
			dynamic diskturf = null;

			
			if ( GlobalVars.blobstart.len > 0 ) {
				GlobalVars.poi_list.Remove( this );
				NEWDISK = new Obj_Item_Weapon_Disk_Nuclear( Rand13.PickFromTable( GlobalVars.blobstart ) );
				this.transfer_fingerprints_to( NEWDISK );
				diskturf = GlobalFuncs.get_turf( this );
				GlobalFuncs.message_admins( "" + this + " has been destroyed in (" + diskturf.x + ", " + diskturf.y + " ," + diskturf.z + " - <A HREF='?_src_=holder;adminplayerobservecoodjump=1;X=" + diskturf.x + ";Y=" + diskturf.y + ";Z=" + diskturf.z + "'>JMP</a>). Moving it to (" + NEWDISK.x + ", " + NEWDISK.y + ", " + NEWDISK.z + " - <A HREF='?_src_=holder;adminplayerobservecoodjump=1;X=" + NEWDISK.x + ";Y=" + NEWDISK.y + ";Z=" + NEWDISK.z + "'>JMP</a>)." );
				GlobalFuncs.log_game( "" + this + " has been destroyed in (" + diskturf.x + ", " + diskturf.y + " ," + diskturf.z + "). Moving it to (" + NEWDISK.x + ", " + NEWDISK.y + ", " + NEWDISK.z + ")." );
				return 4;
			} else {
				_default = 1;
				throw new Exception( "Unable to find a blobstart landmark" );
				return _default;
			}
		}

		// Function from file: nuclearbomb.dm
		public override int? process( dynamic seconds = null ) {
			dynamic disk_loc = null;

			disk_loc = GlobalFuncs.get_turf( this );

			if ( Convert.ToDouble( disk_loc.z ) > 2 ) {
				GlobalFuncs.get( this, typeof(Mob) ).WriteMsg( "<span class='danger'>You can't help but feel that you just lost something back there...</span>" );
				GlobalFuncs.qdel( this );
			}
			return null;
		}

	}

}