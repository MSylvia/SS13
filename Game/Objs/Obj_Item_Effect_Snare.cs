// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Effect_Snare : Obj_Item_Effect {

		public Mob_Living_SimpleAnimal_Hostile_Guardian_Ranged spawner = null;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.invisibility = 1;
		}

		public Obj_Item_Effect_Snare ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: guardian.dm
		public override dynamic Crossed( Ent_Dynamic O = null, dynamic X = null ) {
			dynamic snare_loc = null;
			Mob_Living_SimpleAnimal_Hostile_Guardian_Ranged G = null;

			
			if ( O is Mob_Living ) {
				snare_loc = GlobalFuncs.get_turf( this.loc );

				if ( this.spawner != null ) {
					this.spawner.WriteMsg( "<span class='danger'><B>" + O + " has crossed your surveillance trap at " + GlobalFuncs.get_area( snare_loc ) + ".</span></B>" );

					if ( this.spawner is Mob_Living_SimpleAnimal_Hostile_Guardian ) {
						G = this.spawner;

						if ( Lang13.Bool( G.summoner ) ) {
							G.summoner.WriteMsg( "<span class='danger'><B>" + O + " has crossed your surveillance trap at " + GlobalFuncs.get_area( snare_loc ) + ".</span></B>" );
						}
					}
				}
			}
			return null;
		}

	}

}