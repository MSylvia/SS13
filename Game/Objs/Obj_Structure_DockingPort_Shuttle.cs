// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Structure_DockingPort_Shuttle : Obj_Structure_DockingPort {

		public dynamic linked_shuttle = null;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.areaname = "shuttle";
		}

		public Obj_Structure_DockingPort_Shuttle ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: docking_port.dm
		public override bool can_shuttle_move( Shuttle S = null ) {
			
			if ( S.linked_port == this ) {
				return true;
			}
			return false;
		}

		// Function from file: docking_port.dm
		public override dynamic unlink_from_shuttle( dynamic S = null ) {
			dynamic _default = null;

			_default = base.unlink_from_shuttle( (object)(S) );

			if ( !Lang13.Bool( S ) ) {
				S = this.linked_shuttle;
			}

			if ( this.linked_shuttle == S ) {
				this.linked_shuttle = null;
			}

			if ( S.linked_port == this ) {
				S.linked_port = null;
			}
			this.areaname = "unassigned docking port";
			return _default;
		}

		// Function from file: docking_port.dm
		public override dynamic link_to_shuttle( dynamic S = null ) {
			dynamic _default = null;

			_default = base.link_to_shuttle( (object)(S) );

			if ( Lang13.Bool( this.linked_shuttle ) ) {
				this.unlink_from_shuttle( this.linked_shuttle );
			}
			this.linked_shuttle = S;
			this.areaname = S.name;
			S.linked_port = this;
			return _default;
		}

		// Function from file: docking_port.dm
		public override dynamic Destroy( dynamic brokenup = null ) {
			GlobalFuncs.message_admins( "<span class='warning'>WARNING: A shuttle docking port (linked to " + ( Lang13.Bool( this.linked_shuttle ) ? this.linked_shuttle.name : "nothing" ) + ") has been deleted.</span>" );

			if ( Lang13.Bool( this.linked_shuttle ) ) {
				this.unlink_from_shuttle( this.linked_shuttle );
			}
			base.Destroy( (object)(brokenup) );
			return null;
		}

	}

}