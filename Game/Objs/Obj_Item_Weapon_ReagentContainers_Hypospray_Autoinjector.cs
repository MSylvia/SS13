// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_ReagentContainers_Hypospray_Autoinjector : Obj_Item_Weapon_ReagentContainers_Hypospray {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.item_state = "autoinjector";
			this.volume = 5;
			this.icon_state = "autoinjector1";
		}

		// Function from file: hypospray.dm
		public Obj_Item_Weapon_ReagentContainers_Hypospray_Autoinjector ( dynamic loc = null ) : base( (object)(loc) ) {
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			((Reagents)this.reagents).remove_reagent( "tricordrazine", 30 );
			((Reagents)this.reagents).add_reagent( "inaprovaline", 5 );
			this.update_icon();
			return;
		}

		// Function from file: hypospray.dm
		public override dynamic examine( dynamic user = null, string size = null ) {
			base.examine( (object)(user), size );

			if ( Lang13.Bool( this.reagents ) && this.reagents.reagent_list.len != 0 ) {
				GlobalFuncs.to_chat( user, "<span class='info'>It ready for injection.</span>" );
			} else {
				GlobalFuncs.to_chat( user, "<span class='info'>The autoinjector has been spent.</span>" );
			}
			return null;
		}

		// Function from file: hypospray.dm
		public override bool? update_icon( dynamic location = null, dynamic target = null ) {
			
			if ( ( this.reagents.total_volume ??0) > 0 ) {
				this.icon_state = "autoinjector1";
			} else {
				this.icon_state = "autoinjector0";
			}
			return null;
		}

		// Function from file: hypospray.dm
		public override bool? attack( dynamic M = null, dynamic user = null, string def_zone = null, bool? eat_override = null ) {
			base.attack( (object)(M), (object)(user), def_zone, eat_override );

			if ( ( this.reagents.total_volume ??0) <= 0 ) {
				this.flags &= 61439;
			}
			this.update_icon();
			return null;
		}

	}

}