// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_RobotModule : Obj_Item_Weapon {

		public ByTable modules = new ByTable();
		public Obj_Item emag = null;
		public dynamic jetpack = null;
		public int recharge_tick = 0;
		public int recharge_time = 10;
		public ByTable sensor_augs = null;
		public ByTable languages = null;
		public ByTable added_languages = null;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.w_class = 100;
			this.item_state = "electronic";
			this.icon = "icons/obj/module.dmi";
		}

		// Function from file: robot_modules.dm
		public Obj_Item_Weapon_RobotModule ( dynamic R = null ) : base( (object)(R) ) {
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			this.languages = new ByTable()
				.Set( "Galactic Common", 1 )
				.Set( "Tradeband", 1 )
				.Set( "Vox-pidgin", 0 )
				.Set( "Rootspeak", 0 )
				.Set( "Grey", 0 )
				.Set( "Clatter", 0 )
				.Set( "Sinta'unathi", 0 )
				.Set( "Siik'tajr", 0 )
				.Set( "Skrellian", 0 )
				.Set( "Gutter", 0 )
				.Set( "Monkey", 0 )
				.Set( "Mouse", 0 )
				.Set( "Sol Common", 0 )
			;
			this.added_languages = new ByTable();

			if ( !( R is Mob_Living_Silicon_Robot_Mommi ) ) {
				this.add_languages( R );
			}
			this.AddToProfiler();
			this.modules.Add( new Obj_Item_Device_Flashlight( this ) );
			this.modules.Add( new Obj_Item_Device_Flash( this ) );
			this.emag = new Obj_Item_Toy_Sword( this );
			this.emag.name = "Placeholder Emag Item";
			return;
		}

		// Function from file: robot_modules.dm
		public override dynamic emp_act( int severity = 0 ) {
			Obj O = null;

			
			if ( this.modules != null ) {
				
				foreach (dynamic _a in Lang13.Enumerate( this.modules, typeof(Obj) )) {
					O = _a;
					
					O.emp_act( severity );
				}
			}

			if ( this.emag != null ) {
				this.emag.emp_act( severity );
			}
			base.emp_act( severity );
			return null;
		}

		// Function from file: robot_modules.dm
		public void remove_languages( Mob_Living_Silicon_Robot R = null ) {
			dynamic language = null;

			
			foreach (dynamic _a in Lang13.Enumerate( this.added_languages )) {
				language = _a;
				
				R.remove_language( language );
			}
			this.added_languages.len = 0;
			return;
		}

		// Function from file: robot_modules.dm
		public void add_languages( dynamic R = null ) {
			dynamic language = null;

			
			foreach (dynamic _a in Lang13.Enumerate( this.languages )) {
				language = _a;
				

				if ( ((Mob)R).add_language( language, Lang13.BoolNullable( this.languages[language] ) ) ) {
					this.added_languages.Or( language );
				}
			}
			return;
		}

		// Function from file: robot_modules.dm
		public void rebuild(  ) {
			ByTable temp_list = null;
			Obj O = null;

			temp_list = this.modules;
			this.modules = new ByTable();

			foreach (dynamic _a in Lang13.Enumerate( temp_list, typeof(Obj) )) {
				O = _a;
				

				if ( O != null ) {
					this.modules.Add( O );
				}
			}
			return;
		}

		// Function from file: robot_modules.dm
		public virtual void respawn_consumable( Ent_Static R = null ) {
			return;
		}

		// Function from file: robot_modules.dm
		public void on_emag(  ) {
			this.modules.Add( this.emag );
			this.rebuild();
			Lang13.SuperCall();
			return;
		}

		// Function from file: robot_modules.dm
		public virtual bool recharge_consumable( Mob_Living_Silicon_Robot R = null ) {
			return false;
		}

	}

}