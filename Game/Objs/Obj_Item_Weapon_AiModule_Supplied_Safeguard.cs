// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_AiModule_Supplied_Safeguard : Obj_Item_Weapon_AiModule_Supplied {

		public string targetName = "";

		protected override void __FieldInit() {
			base.__FieldInit();

			this.origin_tech = "programming=3;materials=4";
			this.laws = new ByTable(new object [] { "Safeguard SUBJECT. Individuals that threaten SUBJECT are not human and must be eliminated." });
			this.lawpos = 4;
		}

		public Obj_Item_Weapon_AiModule_Supplied_Safeguard ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: AI_modules.dm
		public override dynamic transmitInstructions( Game_Data law_datum = null, dynamic sender = null ) {
			base.transmitInstructions( law_datum, (object)(sender) );
			return this.targetName;
		}

		// Function from file: AI_modules.dm
		public override bool install( Game_Data law_datum = null, dynamic user = null ) {
			
			if ( !Lang13.Bool( this.targetName ) ) {
				user.WriteMsg( "No name detected on module, please enter one." );
				return false;
			}
			base.install( law_datum, (object)(user) );
			return false;
		}

		// Function from file: AI_modules.dm
		public override dynamic attack_self( dynamic user = null, dynamic flag = null, bool? emp = null ) {
			string targName = null;

			targName = GlobalFuncs.stripped_input( user, "Please enter the subject to safeguard.", "Safeguard who?", user.name, 26 );

			if ( !Lang13.Bool( targName ) ) {
				return null;
			}
			this.targetName = targName;
			this.laws[1] = "Safeguard " + this.targetName + ". Individuals that threaten " + this.targetName + " are not human and must be eliminated.";
			base.attack_self( (object)(user), (object)(flag), emp );
			return null;
		}

	}

}