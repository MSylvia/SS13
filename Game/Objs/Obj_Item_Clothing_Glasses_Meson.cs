// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Clothing_Glasses_Meson : Obj_Item_Clothing_Glasses {

		public bool on = true;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.item_state = "glasses";
			this.origin_tech = "magnets=2;engineering=2";
			this.vision_flags = 16;
			this.eyeprot = -1;
			this.see_invisible = 5;
			this.species_fit = new ByTable(new object [] { "Vox" });
			this.action_button_name = "Toggle Meson Scanner";
			this.icon_state = "meson";
		}

		public Obj_Item_Clothing_Glasses_Meson ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: glasses.dm
		public override dynamic attack_self( dynamic user = null, dynamic flag = null, bool? emp = null ) {
			this.__CallVerb("Toggle Optical Meson Scanner" );
			return null;
		}

		// Function from file: glasses.dm
		public ByTable getMask(  ) {
			return GlobalVars.global_hud.darkMask;
		}

		// Function from file: glasses.dm
		[Verb]
		[VerbInfo( name: "Toggle Optical Meson Scanner", group: "Object", access: VerbAccess.InUserContents, range: 127 )]
		public void toggle(  ) {
			Ent_Static C = null;

			C = Task13.User;

			if ( !( Task13.User != null ) ) {
				
				if ( !( this.loc is Mob ) ) {
					return;
				}
				C = this.loc;
			}

			if ( !Lang13.Bool( ((dynamic)C).incapacitated() ) ) {
				
				if ( !this.on ) {
					this.on = !this.on;
					this.eyeprot = 2;
					this.vision_flags |= GlobalVars.SEE_TURFS;
					this.see_invisible |= 5;
					this.icon_state = Lang13.Initial( this, "icon_state" );
					GlobalFuncs.to_chat( C, "You turn " + this + " on." );
				} else {
					this.on = !this.on;
					this.eyeprot = 0;
					this.vision_flags &= 65519;
					this.see_invisible &= 65530;
					this.icon_state = "" + Lang13.Initial( this, "icon_state" ) + "off";
					GlobalFuncs.to_chat( C, "You turn " + this + " off." );
				}
				((dynamic)C).update_inv_glasses();
			}
			return;
		}

	}

}