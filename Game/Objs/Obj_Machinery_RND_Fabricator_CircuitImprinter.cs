// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Machinery_RND_Fabricator_CircuitImprinter : Obj_Machinery_RND_Fabricator {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.flags = 4096;
			this.max_material_storage = 75000;
			this.build_time = 1;
			this.build_number = 1;
			this.research_flags = 71;
			this.part_sets = new ByTable()
				.Set( "Machine Boards", new ByTable() )
				.Set( "Console Boards", new ByTable() )
				.Set( "Mecha Boards", new ByTable() )
				.Set( "Module Boards", new ByTable() )
				.Set( "Engineering Boards", new ByTable() )
				.Set( "Misc", new ByTable() )
			;
			this.allowed_materials = new ByTable(new object [] { "$glass", "$gold", "$diamond", "$uranium", "$plasma" });
			this.icon_state = "circuit_imprinter";
		}

		// Function from file: circuitprinter.dm
		public Obj_Machinery_RND_Fabricator_CircuitImprinter ( dynamic loc = null ) : base( (object)(loc) ) {
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			this.component_parts = new ByTable(new object [] { 
				new Obj_Item_Weapon_Circuitboard_CircuitImprinter(), 
				new Obj_Item_Weapon_StockParts_MatterBin(), 
				new Obj_Item_Weapon_StockParts_Manipulator(), 
				new Obj_Item_Weapon_ReagentContainers_Glass_Beaker(), 
				new Obj_Item_Weapon_ReagentContainers_Glass_Beaker()
			 });
			this.log_reagents = false;
			this.RefreshParts();
			return;
		}

		// Function from file: circuitprinter.dm
		public override dynamic attackby( dynamic a = null, dynamic b = null, dynamic c = null ) {
			base.attackby( (object)(a), (object)(b), (object)(c) );

			if ( Lang13.Bool( ((Ent_Static)a).is_open_container() ) ) {
				return 0;
			}
			return null;
		}

		// Function from file: circuitprinter.dm
		public override dynamic RefreshParts(  ) {
			double? T = null;
			Obj_Item_Weapon_ReagentContainers_Glass G = null;
			Obj_Item_Weapon_StockParts_MatterBin M = null;

			T = 0;

			foreach (dynamic _a in Lang13.Enumerate( this.component_parts, typeof(Obj_Item_Weapon_ReagentContainers_Glass) )) {
				G = _a;
				
				T += Convert.ToDouble( G.reagents.maximum_volume );
			}
			this.create_reagents( T );
			T = 0;

			foreach (dynamic _b in Lang13.Enumerate( this.component_parts, typeof(Obj_Item_Weapon_StockParts_MatterBin) )) {
				M = _b;
				
				T += M.rating;
			}
			this.max_material_storage = ( T ??0) * 75000;
			return null;
		}

		// Function from file: circuitprinter.dm
		public override dynamic Destroy( dynamic brokenup = null ) {
			dynamic _default = null;

			
			if ( this.linked_console != null && this.linked_console.linked_imprinter == this ) {
				this.linked_console.linked_imprinter = null;
			}
			_default = base.Destroy( (object)(brokenup) );
			return _default;
		}

	}

}