// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_Pen_Robopen : Obj_Item_Weapon_Pen {

		public int mode = 1;

		public Obj_Item_Weapon_Pen_Robopen ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: robot_items.dm
		public void RenamePaper( dynamic user = null, Obj_Item_Weapon_Paper paper = null ) {
			dynamic n_name = null;

			
			if ( !Lang13.Bool( user ) || !( paper != null ) ) {
				return;
			}
			n_name = Interface13.Input( user, "What would you like to label the paper?", "Paper Labelling", null, null, InputType.Str );

			if ( !Lang13.Bool( user ) || !( paper != null ) ) {
				return;
			}
			n_name = String13.SubStr( n_name, 1, 32 );

			if ( this.Adjacent( user ) && !Lang13.Bool( user.stat ) ) {
				paper.name = "paper" + ( Lang13.Bool( n_name ) ? "- '" + n_name + "'" : null );
			}
			this.add_fingerprint( user );
			return;
		}

		// Function from file: robot_items.dm
		public override dynamic attack_self( dynamic user = null, dynamic flag = null, bool? emp = null ) {
			GlobalFuncs.playsound( GlobalFuncs.get_turf( this ), "sound/effects/pop.ogg", 50, 0 );

			if ( this.mode == 1 ) {
				this.mode = 2;
				GlobalFuncs.to_chat( user, "Changed printing mode to 'Rename Paper'" );
				return null;
			}

			if ( this.mode == 2 ) {
				this.mode = 1;
				GlobalFuncs.to_chat( user, "Changed printing mode to 'Write Paper'" );
			}
			return null;
		}

	}

}