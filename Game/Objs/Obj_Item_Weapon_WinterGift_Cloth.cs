// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_WinterGift_Cloth : Obj_Item_Weapon_WinterGift {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.item_state = "gift_winter-3";
			this.icon_state = "gift_winter-3";
		}

		public Obj_Item_Weapon_WinterGift_Cloth ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: gift_wrappaper.dm
		public void cloth_bundle(  ) {
			dynamic bundle = null;

			bundle = Rand13.PickWeighted(new object [] { 5957, "batman", 25816, "russian fur", 45675, "chicken", 61562, "pirate captain", 65535, "cuban pete" });

			dynamic _a = bundle; // Was a switch-case, sorry for the mess.
			if ( _a=="batman" ) {
				new Obj_Item_Weapon_Storage_Belt_Security_Batmanbelt( GlobalFuncs.get_turf( this.loc ) );
				new Obj_Item_Clothing_Head_Batman( GlobalFuncs.get_turf( this.loc ) );
				new Obj_Item_Clothing_Gloves_Batmangloves( GlobalFuncs.get_turf( this.loc ) );
				new Obj_Item_Clothing_Shoes_Jackboots_Batmanboots( GlobalFuncs.get_turf( this.loc ) );
				new Obj_Item_Clothing_Under_Batmansuit( GlobalFuncs.get_turf( this.loc ) );
			} else if ( _a=="russian fur" ) {
				new Obj_Item_Clothing_Suit_Russofurcoat( GlobalFuncs.get_turf( this.loc ) );
				new Obj_Item_Clothing_Head_Russofurhat( GlobalFuncs.get_turf( this.loc ) );
			} else if ( _a=="chicken" ) {
				new Obj_Item_Clothing_Head_Chicken( GlobalFuncs.get_turf( this.loc ) );
				new Obj_Item_Clothing_Suit_Chickensuit( GlobalFuncs.get_turf( this.loc ) );
			} else if ( _a=="pirate captain" ) {
				new Obj_Item_Clothing_Glasses_Eyepatch( GlobalFuncs.get_turf( this.loc ) );
				new Obj_Item_Clothing_Head_Hgpiratecap( GlobalFuncs.get_turf( this.loc ) );
				new Obj_Item_Clothing_Suit_Hgpirate( GlobalFuncs.get_turf( this.loc ) );
				new Obj_Item_Clothing_Under_CaptainFly( GlobalFuncs.get_turf( this.loc ) );
				new Obj_Item_Clothing_Shoes_Jackboots( GlobalFuncs.get_turf( this.loc ) );
			} else if ( _a=="cuban pete" ) {
				new Obj_Item_Clothing_Head_Collectable_Petehat( GlobalFuncs.get_turf( this.loc ) );
				new Obj_Item_Device_Maracas( GlobalFuncs.get_turf( this.loc ) );
				new Obj_Item_Device_Maracas( GlobalFuncs.get_turf( this.loc ) );
			}
			return;
		}

		// Function from file: gift_wrappaper.dm
		public override dynamic attack_self( dynamic user = null, dynamic flag = null, bool? emp = null ) {
			dynamic gift_type = null;
			dynamic I = null;

			
			if ( Rand13.PercentChance( 30 ) ) {
				this.cloth_bundle();
				GlobalFuncs.to_chat( user, "<span class='notice'>You unwrapped a bundle of clothes! Looks comfy!</span>" );
				GlobalFuncs.qdel( this );
				return null;
			}
			gift_type = Rand13.Pick(new object [] { typeof(Obj_Item_Clothing_Gloves_Black), typeof(Obj_Item_Clothing_Head_Ushanka), typeof(Obj_Item_Clothing_Head_Bearpelt) });
			I = Lang13.Call( gift_type, user );
			((Mob)user).u_equip( this, false );
			((Mob)user).put_in_hands( I );
			((Ent_Static)I).add_fingerprint( user );
			GlobalFuncs.to_chat( user, new Txt( "<span class='notice'>You unwrapped " ).a( I ).item().str( "! Looks comfy!</span>" ).ToString() );
			GlobalFuncs.qdel( this );
			return null;
		}

	}

}