// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Organ_Internal_BodyEgg : Obj_Item_Organ_Internal {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.origin_tech = "biotech=5";
			this.slot = "parasite_egg";
			this.icon_state = "innards";
		}

		// Function from file: body_egg.dm
		public Obj_Item_Organ_Internal_BodyEgg ( dynamic loc = null ) : base( (object)(loc) ) {
			
			if ( loc is Mob_Living_Carbon ) {
				this.Insert( loc );
			}
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			return;
		}

		// Function from file: tgstation.dme
		public virtual void RemoveInfectionImages(  ) {
			return;
		}

		// Function from file: body_egg.dm
		public virtual void AddInfectionImages(  ) {
			return;
		}

		// Function from file: body_egg.dm
		public void RefreshInfectionImage(  ) {
			this.RemoveInfectionImages();
			this.AddInfectionImages();
			return;
		}

		// Function from file: body_egg.dm
		public virtual void egg_process(  ) {
			return;
		}

		// Function from file: body_egg.dm
		public override int? process( dynamic seconds = null ) {
			
			if ( !Lang13.Bool( this.owner ) ) {
				return null;
			}

			if ( !this.owner.internal_organs.Contains( this ) ) {
				this.Remove( this.owner );
				return null;
			}
			this.egg_process();
			return null;
		}

		// Function from file: body_egg.dm
		public override void Remove( dynamic M = null, bool? special = null ) {
			special = special ?? false;

			GlobalVars.SSobj.processing.Remove( this );

			if ( Lang13.Bool( this.owner ) ) {
				this.owner.status_flags &= 32767;
				((Mob_Living_Carbon)this.owner).med_hud_set_status();
				Task13.Schedule( 0, (Task13.Closure)(() => {
					this.RemoveInfectionImages(  );
					return;
				}));
			}
			base.Remove( (object)(M), special );
			return;
		}

		// Function from file: body_egg.dm
		public override void Insert( dynamic M = null, int? special = null ) {
			special = special ?? 0;

			base.Insert( (object)(M), special );
			this.owner.status_flags |= 32768;
			GlobalVars.SSobj.processing.Or( this );
			((Mob_Living_Carbon)this.owner).med_hud_set_status();
			Task13.Schedule( 0, (Task13.Closure)(() => {
				this.AddInfectionImages(  );
				return;
			}));
			return;
		}

		// Function from file: body_egg.dm
		public override void on_find( dynamic finder = null ) {
			base.on_find( (object)(finder) );
			finder.WriteMsg( "<span class='warning'>You found an unknown alien organism in " + this.owner + "'s " + this.zone + "!</span>" );
			return;
		}

	}

}