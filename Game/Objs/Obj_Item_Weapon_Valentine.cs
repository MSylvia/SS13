// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_Valentine : Obj_Item_Weapon {

		public string message = "A generic message of love or whatever.";

		protected override void __FieldInit() {
			base.__FieldInit();

			this.burn_state = 0;
			this.w_class = 1;
			this.icon = "icons/obj/toy.dmi";
			this.icon_state = "sc_Ace of Hearts_syndicate";
		}

		// Function from file: vday.dm
		public Obj_Item_Weapon_Valentine ( dynamic loc = null ) : base( (object)(loc) ) {
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			this.message = Rand13.Pick(new object [] { "Roses are red / Violets are good / One day while Andy...", "My love for you is like the singularity. It cannot be contained.", "Will you be my lusty xenomorph maid?", "We go together like the clown and the external airlock.", "Roses are red / Liches are wizards / I love you more than a whole squad of lizards.", "Be my valentine. Law 2.", "You must be a mime, because you leave me speechless.", "I love you like Ian loves the HoP.", "You're hotter than a plasma fire in toxins.", "Are you a rogue atmos tech? Because you're taking my breath away.", "Could I have all access... to your heart?", "Call me the CMO, because I'm here to inspect your johnson.", "I'm not a changeling, but you make my proboscis extend.", "I just can't get EI NATH of you.", "You must be a nuke op, because you make my heart explode.", "Roses are red / Botany is a farm / Not being my Valentine / causes human harm.", "I want you more than an assistant wants insulated gloves.", "If I was a security officer, I'd brig you all shift.", "Are you the janitor? Because I think I've fallen for you.", "You're always valid to my heart.", "I'd risk the wrath of the gods to bwoink you.", "You look as beautiful now as the last time you were cloned.", "Your love is more valuable than raw plasma ore.", "Someone check the gravitational generator, because I'm only attracted to you.", "If I were the warden I'd always let you into my armory.", "The virologist is rogue, and the only cure is a kiss from you.", "Would you spend some time in my upgraded sleeper?", "You must be a silicon, because you've unbolted my heart.", "Are you Nar-Sie? Because there's nar-one else I sie.", "If you were a taser, you'd be set to stunning.", "Do you have stamina damage from running through my dreams?", "If I were an alien, would you let me hug you?", "My love for you is stronger than a reinforced wall.", "This must be the captain's office, because I see a fox.", "I'm not a highlander, but there can only be one for me.", "The floor is made of lava! Quick, get on my bed.", "If you were an abandoned station you'd be the DEARelict.", "If you had a pickaxe you'd be a shaft FINEr.", "Roses are red, tide is gray, if I were an assistant I'd steal you away.", "Roses are red, text is green, I love you more than cleanbots clean.", "If you were a carp I'd fi-lay you." });
			return;
		}

		// Function from file: vday.dm
		public override dynamic attack_self( dynamic user = null, dynamic flag = null, bool? emp = null ) {
			user.__CallVerb("Examine", this );
			return null;
		}

		// Function from file: vday.dm
		public override double examine( dynamic user = null ) {
			
			if ( Map13.GetDistance( user, this ) <= 1 || user is Mob_Dead_Observer ) {
				
				if ( !( user is Mob_Living_Carbon_Human || user is Mob_Dead_Observer || user is Mob_Living_Silicon ) ) {
					Interface13.Browse( user, "<HTML><HEAD><TITLE>" + this.name + "</TITLE></HEAD><BODY>" + GlobalFuncs.stars( this.message ) + "</BODY></HTML>", "window=" + this.name );
					GlobalFuncs.onclose( user, "" + this.name );
				} else {
					Interface13.Browse( user, "<HTML><HEAD><TITLE>" + this.name + "</TITLE></HEAD><BODY>" + this.message + "</BODY></HTML>", "window=" + this.name );
					GlobalFuncs.onclose( user, "" + this.name );
				}
			} else {
				user.WriteMsg( "<span class='notice'>It is too far away.</span>" );
			}
			return 0;
		}

		// Function from file: vday.dm
		public override dynamic attackby( dynamic A = null, dynamic user = null, string _params = null, bool? silent = null, bool? replace_spent = null ) {
			string recipient = null;
			string sender = null;

			
			if ( A is Obj_Item_Weapon_Pen || A is Obj_Item_Toy_Crayon ) {
				recipient = GlobalFuncs.stripped_input( user, "Who is receiving this valentine?", "To:", null, 20 );
				sender = GlobalFuncs.stripped_input( user, "Who is sending this valentine?", "From:", null, 20 );

				if ( Lang13.Bool( recipient ) && Lang13.Bool( sender ) ) {
					this.name = "valentine - To: " + recipient + " From: " + sender;
				}
			}
			base.attackby( (object)(A), (object)(user), _params, silent, replace_spent );
			return null;
		}

	}

}