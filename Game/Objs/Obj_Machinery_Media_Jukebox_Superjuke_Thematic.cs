// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Machinery_Media_Jukebox_Superjuke_Thematic : Obj_Machinery_Media_Jukebox_Superjuke {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.playlist_id = "endgame";
		}

		public Obj_Machinery_Media_Jukebox_Superjuke_Thematic ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: jukebox.dm
		public override void update_music(  ) {
			dynamic song = null;
			dynamic M = null;

			
			if ( Lang13.Bool( this.current_song ) && this.playing != 0 ) {
				song = this.playlist[this.current_song];
				this.media_url = song.url;
				this.last_song = this.current_song;
				this.media_start_time = Game13.time;
				this.visible_message( new Txt( "<span class='notice'>" ).icon( this ).str( " " ).The( this ).item().str( " begins to play " ).item( song.display() ).str( ".</span>" ).ToString(), "<em>You hear music.</em>" );
			} else {
				this.media_url = "";
				this.media_start_time = 0;
			}

			foreach (dynamic _a in Lang13.Enumerate( GlobalVars.mob_list )) {
				M = _a;
				

				if ( Lang13.Bool( M ) && Lang13.Bool( M.client ) ) {
					((Mob)M).force_music( this.media_url, this.media_start_time, this.volume );
				}
			}
			return;
		}

	}

}