// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Machinery_ConstructableFrame : Obj_Machinery {

		public dynamic circuit = null;
		public ByTable components = null;
		public dynamic req_components = null;
		public dynamic req_component_names = null;
		public dynamic components_in_use = null;
		public int build_state = 1;
		public ByTable connected_parts = new ByTable();
		public bool pattern_idx = false;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.anchored = 1;
			this.use_power = 0;
			this.machine_flags = 24;
			this.icon = "icons/obj/stock_parts.dmi";
			this.icon_state = "box_0";
		}

		public Obj_Machinery_ConstructableFrame ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: constructable_frame.dm
		public double get_req_components_amt(  ) {
			double amt = 0;
			dynamic path = null;

			amt = 0;

			foreach (dynamic _a in Lang13.Enumerate( this.req_components )) {
				path = _a;
				
				amt += Convert.ToDouble( this.req_components[path] );
			}
			return amt;
		}

		// Function from file: constructable_frame.dm
		public void update_desc(  ) {
			string D = null;
			bool first = false;
			dynamic I = null;

			
			if ( Lang13.Bool( this.req_components ) ) {
				D = "Requires ";
				first = true;

				foreach (dynamic _a in Lang13.Enumerate( this.req_components )) {
					I = _a;
					

					if ( Convert.ToDouble( this.req_components[I] ) > 0 ) {
						D += "" + ( first ? "" : ", " ) + String13.NumberToString( Convert.ToDouble( this.req_components[I] ) ) + " " + this.req_component_names[I];
						first = false;
					}
				}

				if ( first ) {
					D += "nothing";
				}
				D += ".";
			}
			this.desc = D;
			return;
		}

	}

}