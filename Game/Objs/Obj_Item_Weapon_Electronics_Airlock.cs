// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_Electronics_Airlock : Obj_Item_Weapon_Electronics {

		public dynamic accesses = new ByTable();
		public bool one_access = false;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.req_access = new ByTable(new object [] { 12 });
		}

		public Obj_Item_Weapon_Electronics_Airlock ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: airlock_electronics.dm
		public override int? ui_act( string action = null, ByTable _params = null, Tgui ui = null, UiState state = null ) {
			int? _default = null;

			double? access = null;

			
			if ( Lang13.Bool( base.ui_act( action, _params, ui, state ) ) ) {
				return _default;
			}

			switch ((string)( action )) {
				case "clear":
					this.accesses = new ByTable();
					this.one_access = false;
					_default = GlobalVars.TRUE;
					break;
				case "one_access":
					this.one_access = !this.one_access;
					_default = GlobalVars.TRUE;
					break;
				case "set":
					access = String13.ParseNumber( _params["access"] );

					if ( !Lang13.Bool( this.accesses.Contains( access ) ) ) {
						this.accesses += access;
					} else {
						this.accesses -= access;
					}
					_default = GlobalVars.TRUE;
					break;
			}
			return _default;
		}

		// Function from file: airlock_electronics.dm
		public override ByTable ui_data( dynamic user = null ) {
			ByTable data = null;
			ByTable regions = null;
			double? i = null;
			ByTable region = null;
			ByTable accesses = null;
			dynamic j = null;
			ByTable access = null;

			data = new ByTable();
			regions = new ByTable();

			foreach (dynamic _b in Lang13.IterateRange( 1, 7 )) {
				i = _b;
				
				region = new ByTable();
				accesses = new ByTable();

				foreach (dynamic _a in Lang13.Enumerate( GlobalFuncs.get_region_accesses( i ) )) {
					j = _a;
					
					access = new ByTable();
					access["name"] = GlobalFuncs.get_access_desc( j );
					access["id"] = j;
					access["req"] = this.accesses.Contains( j );
					accesses[++accesses.len] = access;
				}
				region["name"] = GlobalFuncs.get_region_accesses_name( i );
				region["accesses"] = accesses;
				regions[++regions.len] = region;
			}
			data["regions"] = regions;
			data["oneAccess"] = this.one_access;
			return data;
		}

		// Function from file: airlock_electronics.dm
		public override int ui_interact( dynamic user = null, string ui_key = null, Tgui ui = null, bool? force_open = null, Tgui master_ui = null, UiState state = null ) {
			ui_key = ui_key ?? "main";
			force_open = force_open ?? false;
			state = state ?? GlobalVars.hands_state;

			GlobalVars.SStgui.try_update_ui( user, this, ui_key, ui, force_open );

			if ( !( ui != null ) ) {
				ui = new Tgui( user, this, ui_key, "airlock_electronics", this.name, 975, 420, master_ui, state );
				ui.open();
			}
			return 0;
		}

	}

}