// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Areaeditor_Permit : Obj_Item_Areaeditor {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.fluffnotice = "Nanotrasen Engineering requires all on-station construction projects to be approved by a head of staff, as detailed in Nanotrasen Company Regulation 512-C (Mid-Shift Modifications to Company Property). By submitting this form, you accept any fines, fees, or personal injury/death that may occur during construction.";
			this.w_class = 1;
			this.icon_state = "permit";
		}

		public Obj_Item_Areaeditor_Permit ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: blueprints.dm
		public override bool create_area(  ) {
			bool success = false;

			success = base.create_area();

			if ( success ) {
				GlobalFuncs.qdel( this );
			}
			return false;
		}

		// Function from file: blueprints.dm
		public override dynamic attack_self( dynamic user = null, dynamic flag = null, bool? emp = null ) {
			dynamic _default = null;

			Ent_Static A = null;
			Browser popup = null;

			_default = base.attack_self( (object)(user), (object)(flag), emp );
			A = this.get_area();

			if ( this.get_area_type() == ( GlobalVars.AREA_STATION ?1:0) ) {
				_default += new Txt( "<p>According to " ).the( this ).item().str( ", you are now in <b>\"" ).item( String13.HtmlEncode( A.name ) ).str( "\"</b>.</p>" ).ToString();
			}
			popup = new Browser( user, "blueprints", "" + this, 700, 500 );
			popup.set_content( _default );
			popup.open();
			GlobalFuncs.onclose( Task13.User, "blueprints" );
			return _default;
		}

	}

}