// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Structure_ReagentDispensers_WaterCooler : Obj_Structure_ReagentDispensers {

		public int cups = 50;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.anchored = 1;
			this.icon = "icons/obj/vending.dmi";
			this.icon_state = "water_cooler";
		}

		// Function from file: reagent_dispenser.dm
		public Obj_Structure_ReagentDispensers_WaterCooler ( dynamic loc = null ) : base( (object)(loc) ) {
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			this.reagents.add_reagent( "water", 500 );
			return;
		}

		// Function from file: reagent_dispenser.dm
		public override dynamic attackby( dynamic A = null, dynamic user = null, string _params = null, bool? silent = null, bool? replace_spent = null ) {
			
			if ( A is Obj_Item_Weapon_Paper ) {
				
				if ( !((Mob)user).drop_item() ) {
					return null;
				}
				GlobalFuncs.qdel( A );
				this.cups++;
				return null;
			} else {
				base.attackby( (object)(A), (object)(user), _params, silent, replace_spent );
			}
			return null;
		}

		// Function from file: reagent_dispenser.dm
		public override dynamic attack_hand( dynamic a = null, bool? b = null, bool? c = null ) {
			Obj_Item_Weapon_ReagentContainers_Food_Drinks_Sillycup SC = null;

			
			if ( !( a is Mob_Living_Carbon_Human ) || Lang13.Bool( a.stat ) ) {
				return null;
			}

			if ( this.cups <= 0 ) {
				a.WriteMsg( "<span class='warning'>No cups left!</span>" );
				return null;
			}
			this.cups--;
			SC = new Obj_Item_Weapon_ReagentContainers_Food_Drinks_Sillycup( this.loc );

			if ( this.Adjacent( a ) ) {
				((Mob)a).put_in_hands( SC );
				((Ent_Static)a).visible_message( "" + a + " gets a cup from " + this + ".", "<span class='notice'>You get a cup from " + this + ".</span>" );
			}
			return null;
		}

	}

}