// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Machinery_Mineral_ProcessingUnit : Obj_Machinery_Mineral {

		public dynamic CONSOLE = null;
		public int ore_gold = 0;
		public int ore_silver = 0;
		public int ore_diamond = 0;
		public int ore_glass = 0;
		public int ore_plasma = 0;
		public int ore_uranium = 0;
		public int ore_iron = 0;
		public int ore_clown = 0;
		public bool ore_adamantine = false;
		public bool selected_gold = false;
		public bool selected_silver = false;
		public bool selected_diamond = false;
		public bool selected_glass = false;
		public bool selected_plasma = false;
		public bool selected_uranium = false;
		public bool selected_iron = false;
		public bool selected_clown = false;
		public bool on = false;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.anchored = 1;
			this.icon = "icons/obj/machines/mining_machines.dmi";
			this.icon_state = "furnace";
		}

		public Obj_Machinery_Mineral_ProcessingUnit ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: machine_processing.dm
		public void generate_mineral( Type P = null ) {
			dynamic O = null;

			O = Lang13.Call( P, this );
			this.unload_mineral( O );
			return;
		}

		// Function from file: machine_processing.dm
		public override int? process( dynamic seconds = null ) {
			int i = 0;
			bool b = false;
			Tile T = null;
			int n = 0;
			Obj_Item O = null;

			i = 0;

			while (i < 10) {
				
				if ( this.on ) {
					
					if ( this.selected_glass && !this.selected_gold && !this.selected_silver && !this.selected_diamond && !this.selected_plasma && !this.selected_uranium && !this.selected_iron && !this.selected_clown ) {
						
						if ( this.ore_glass > 0 ) {
							this.ore_glass--;
							this.generate_mineral( typeof(Obj_Item_Stack_Sheet_Glass) );
						} else {
							this.on = false;
						}
						i++;
						continue;
					}

					if ( this.selected_glass && !this.selected_gold && !this.selected_silver && !this.selected_diamond && !this.selected_plasma && !this.selected_uranium && this.selected_iron && !this.selected_clown ) {
						
						if ( this.ore_glass > 0 && this.ore_iron > 0 ) {
							this.ore_glass--;
							this.ore_iron--;
							this.generate_mineral( typeof(Obj_Item_Stack_Sheet_Rglass) );
						} else {
							this.on = false;
						}
						i++;
						continue;
					}

					if ( !this.selected_glass && this.selected_gold && !this.selected_silver && !this.selected_diamond && !this.selected_plasma && !this.selected_uranium && !this.selected_iron && !this.selected_clown ) {
						
						if ( this.ore_gold > 0 ) {
							this.ore_gold--;
							this.generate_mineral( typeof(Obj_Item_Stack_Sheet_Mineral_Gold) );
						} else {
							this.on = false;
						}
						i++;
						continue;
					}

					if ( !this.selected_glass && !this.selected_gold && this.selected_silver && !this.selected_diamond && !this.selected_plasma && !this.selected_uranium && !this.selected_iron && !this.selected_clown ) {
						
						if ( this.ore_silver > 0 ) {
							this.ore_silver--;
							this.generate_mineral( typeof(Obj_Item_Stack_Sheet_Mineral_Silver) );
						} else {
							this.on = false;
						}
						i++;
						continue;
					}

					if ( !this.selected_glass && !this.selected_gold && !this.selected_silver && this.selected_diamond && !this.selected_plasma && !this.selected_uranium && !this.selected_iron && !this.selected_clown ) {
						
						if ( this.ore_diamond > 0 ) {
							this.ore_diamond--;
							this.generate_mineral( typeof(Obj_Item_Stack_Sheet_Mineral_Diamond) );
						} else {
							this.on = false;
						}
						i++;
						continue;
					}

					if ( !this.selected_glass && !this.selected_gold && !this.selected_silver && !this.selected_diamond && this.selected_plasma && !this.selected_uranium && !this.selected_iron && !this.selected_clown ) {
						
						if ( this.ore_plasma > 0 ) {
							this.ore_plasma--;
							this.generate_mineral( typeof(Obj_Item_Stack_Sheet_Mineral_Plasma) );
						} else {
							this.on = false;
						}
						i++;
						continue;
					}

					if ( !this.selected_glass && !this.selected_gold && !this.selected_silver && !this.selected_diamond && !this.selected_plasma && this.selected_uranium && !this.selected_iron && !this.selected_clown ) {
						
						if ( this.ore_uranium > 0 ) {
							this.ore_uranium--;
							this.generate_mineral( typeof(Obj_Item_Stack_Sheet_Mineral_Uranium) );
						} else {
							this.on = false;
						}
						i++;
						continue;
					}

					if ( !this.selected_glass && !this.selected_gold && !this.selected_silver && !this.selected_diamond && !this.selected_plasma && !this.selected_uranium && this.selected_iron && !this.selected_clown ) {
						
						if ( this.ore_iron > 0 ) {
							this.ore_iron--;
							this.generate_mineral( typeof(Obj_Item_Stack_Sheet_Metal) );
						} else {
							this.on = false;
						}
						i++;
						continue;
					}

					if ( !this.selected_glass && !this.selected_gold && !this.selected_silver && !this.selected_diamond && this.selected_plasma && !this.selected_uranium && this.selected_iron && !this.selected_clown ) {
						
						if ( this.ore_iron > 0 && this.ore_plasma > 0 ) {
							this.ore_iron--;
							this.ore_plasma--;
							this.generate_mineral( typeof(Obj_Item_Stack_Sheet_Plasteel) );
						} else {
							this.on = false;
						}
						i++;
						continue;
					}

					if ( !this.selected_glass && !this.selected_gold && !this.selected_silver && !this.selected_diamond && !this.selected_plasma && !this.selected_uranium && !this.selected_iron && this.selected_clown ) {
						
						if ( this.ore_clown > 0 ) {
							this.ore_clown--;
							this.generate_mineral( typeof(Obj_Item_Stack_Sheet_Mineral_Bananium) );
						} else {
							this.on = false;
						}
						i++;
						continue;
					}
					b = true;

					if ( !( this.selected_gold || this.selected_silver || this.selected_diamond || ( ( this.selected_uranium ?1:0) | ( this.selected_plasma ?1:0) ) != 0 || this.selected_iron || this.selected_iron ) ) {
						b = false;
					}

					if ( this.selected_gold ) {
						
						if ( this.ore_gold <= 0 ) {
							b = false;
						}
					}

					if ( this.selected_silver ) {
						
						if ( this.ore_silver <= 0 ) {
							b = false;
						}
					}

					if ( this.selected_diamond ) {
						
						if ( this.ore_diamond <= 0 ) {
							b = false;
						}
					}

					if ( this.selected_uranium ) {
						
						if ( this.ore_uranium <= 0 ) {
							b = false;
						}
					}

					if ( this.selected_plasma ) {
						
						if ( this.ore_plasma <= 0 ) {
							b = false;
						}
					}

					if ( this.selected_iron ) {
						
						if ( this.ore_iron <= 0 ) {
							b = false;
						}
					}

					if ( this.selected_glass ) {
						
						if ( this.ore_glass <= 0 ) {
							b = false;
						}
					}

					if ( this.selected_clown ) {
						
						if ( this.ore_clown <= 0 ) {
							b = false;
						}
					}

					if ( b ) {
						
						if ( this.selected_gold ) {
							this.ore_gold--;
						}

						if ( this.selected_silver ) {
							this.ore_silver--;
						}

						if ( this.selected_diamond ) {
							this.ore_diamond--;
						}

						if ( this.selected_uranium ) {
							this.ore_uranium--;
						}

						if ( this.selected_plasma ) {
							this.ore_plasma--;
						}

						if ( this.selected_iron ) {
							this.ore_iron--;
						}

						if ( this.selected_clown ) {
							this.ore_clown--;
						}
						this.generate_mineral( typeof(Obj_Item_Weapon_Ore_Slag) );
						this.on = false;
					} else {
						this.on = false;
						break;
					}
					break;
				} else {
					break;
				}
				i++;
			}
			T = Map13.GetStep( this, this.input_dir );

			if ( T != null ) {
				n = 0;

				foreach (dynamic _a in Lang13.Enumerate( T, typeof(Obj_Item) )) {
					O = _a;
					
					n++;

					if ( n > 10 ) {
						break;
					}

					if ( O is Obj_Item_Weapon_Ore_Iron ) {
						this.ore_iron++;
						O.loc = null;
						continue;
					}

					if ( O is Obj_Item_Weapon_Ore_Glass ) {
						this.ore_glass++;
						O.loc = null;
						continue;
					}

					if ( O is Obj_Item_Weapon_Ore_Diamond ) {
						this.ore_diamond++;
						O.loc = null;
						continue;
					}

					if ( O is Obj_Item_Weapon_Ore_Plasma ) {
						this.ore_plasma++;
						O.loc = null;
						continue;
					}

					if ( O is Obj_Item_Weapon_Ore_Gold ) {
						this.ore_gold++;
						O.loc = null;
						continue;
					}

					if ( O is Obj_Item_Weapon_Ore_Silver ) {
						this.ore_silver++;
						O.loc = null;
						continue;
					}

					if ( O is Obj_Item_Weapon_Ore_Uranium ) {
						this.ore_uranium++;
						O.loc = null;
						continue;
					}

					if ( O is Obj_Item_Weapon_Ore_Bananium ) {
						this.ore_clown++;
						O.loc = null;
						continue;
					}
					this.unload_mineral( O );
				}
			}
			return null;
		}

	}

}