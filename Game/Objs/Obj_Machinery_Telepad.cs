// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Machinery_Telepad : Obj_Machinery {

		public dynamic efficiency = null;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.anchored = 1;
			this.idle_power_usage = 200;
			this.active_power_usage = 5000;
			this.icon = "icons/obj/telescience.dmi";
			this.icon_state = "pad-idle";
		}

		// Function from file: telepad.dm
		public Obj_Machinery_Telepad ( dynamic loc = null ) : base( (object)(loc) ) {
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			this.component_parts = new ByTable();
			this.component_parts.Add( new Obj_Item_Weapon_Circuitboard_TelesciPad( null ) );
			this.component_parts.Add( new Obj_Item_Weapon_Ore_BluespaceCrystal_Artificial( null ) );
			this.component_parts.Add( new Obj_Item_Weapon_Ore_BluespaceCrystal_Artificial( null ) );
			this.component_parts.Add( new Obj_Item_Weapon_StockParts_Capacitor( null ) );
			this.component_parts.Add( new Obj_Item_Weapon_StockParts_ConsoleScreen( null ) );
			this.component_parts.Add( new Obj_Item_Stack_CableCoil( null, 1 ) );
			this.RefreshParts();
			return;
		}

		// Function from file: telepad.dm
		public override dynamic attackby( dynamic A = null, dynamic user = null, string _params = null, bool? silent = null, bool? replace_spent = null ) {
			dynamic M = null;

			
			if ( this.default_deconstruction_screwdriver( user, "pad-idle-o", "pad-idle", A ) ) {
				return null;
			}

			if ( Lang13.Bool( this.panel_open ) ) {
				
				if ( A is Obj_Item_Device_Multitool ) {
					M = A;
					M.buffer = this;
					user.WriteMsg( "<span class='caution'>You save the data in the " + A.name + "'s buffer.</span>" );
				}
			}

			if ( this.exchange_parts( user, A ) ) {
				return null;
			}
			this.default_deconstruction_crowbar( A );
			return null;
		}

		// Function from file: telepad.dm
		public override void RefreshParts(  ) {
			dynamic E = null;
			Obj_Item_Weapon_StockParts_Capacitor C = null;

			
			foreach (dynamic _a in Lang13.Enumerate( this.component_parts, typeof(Obj_Item_Weapon_StockParts_Capacitor) )) {
				C = _a;
				
				E += C.rating;
			}
			this.efficiency = E;
			return;
		}

	}

}