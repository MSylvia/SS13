// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Device_Assembly_Control_Airlock : Obj_Item_Device_Assembly_Control {

		public int specialfunctions = 1;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.id = "badmin";
		}

		public Obj_Item_Device_Assembly_Control_Airlock ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: doorcontrol.dm
		public override bool activate(  ) {
			Obj_Machinery_Door_Airlock D = null;

			this.cooldown = 1;

			foreach (dynamic _a in Lang13.Enumerate( GlobalVars.airlocks, typeof(Obj_Machinery_Door_Airlock) )) {
				D = _a;
				

				if ( D.id_tag == this.id ) {
					
					if ( ( this.specialfunctions & 1 ) != 0 ) {
						
						if ( D.density ) {
							D.open();
						} else {
							D.close();
						}
					}

					if ( ( this.specialfunctions & 2 ) != 0 ) {
						D.aiDisabledIdScanner = !D.aiDisabledIdScanner;
					}

					if ( ( this.specialfunctions & 4 ) != 0 ) {
						
						if ( !((Wires)D.wires).is_cut( "bolts" ) && D.hasPower() ) {
							D.locked = !D.locked;
							D.update_icon();
						}
					}

					if ( ( this.specialfunctions & 8 ) != 0 ) {
						D.secondsElectrified = ( D.secondsElectrified != 0 ? 0 : -1 );
					}

					if ( ( this.specialfunctions & 16 ) != 0 ) {
						D.safe = !D.safe;
					}
				}
			}
			Task13.Sleep( 10 );
			this.cooldown = 0;
			return false;
		}

	}

}