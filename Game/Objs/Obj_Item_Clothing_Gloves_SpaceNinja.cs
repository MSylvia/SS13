// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Clothing_Gloves_SpaceNinja : Obj_Item_Clothing_Gloves {

		public bool draining = false;
		public bool candrain = false;
		public int mindrain = 200;
		public int maxdrain = 400;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.item_state = "s-ninja";
			this.siemens_coefficient = 0;
			this.cold_protection = 1536;
			this.min_cold_protection_temperature = 2;
			this.heat_protection = 1536;
			this.max_heat_protection_temperature = 1500;
			this.strip_delay = 120;
			this.icon_state = "s-ninja";
		}

		public Obj_Item_Clothing_Gloves_SpaceNinja ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: gloves.dm
		public override double examine( dynamic user = null ) {
			base.examine( (object)(user) );

			if ( Lang13.Bool( this.flags & 2 ) ) {
				user.WriteMsg( "The energy drain mechanism is: <B>" + ( this.candrain ? "active" : "inactive" ) + "</B>." );
			}
			return 0;
		}

		// Function from file: gloves.dm
		[VerbInfo( name: "Toggle Interaction", desc: "Toggles special interaction on or off.", group: "Ninja Equip" )]
		public void toggled(  ) {
			Ent_Static U = null;

			U = this.loc;
			((dynamic)U).WriteMsg( "You <b>" + ( this.candrain ? "disable" : "enable" ) + "</b> special interaction." );
			this.candrain = !this.candrain;
			return;
		}

		// Function from file: gloves.dm
		public override dynamic Touch( Ent_Static A = null, bool proximity = false ) {
			Ent_Static H = null;
			Obj_Item_Clothing_Suit_Space_SpaceNinja suit = null;
			dynamic drained = null;

			
			if ( !this.candrain || this.draining ) {
				return 0;
			}

			if ( !( this.loc is Mob_Living_Carbon_Human ) ) {
				return 0;
			}
			H = this.loc;
			suit = ((dynamic)H).wear_suit;

			if ( !( suit is Obj_Item_Clothing_Suit_Space_SpaceNinja ) ) {
				return 0;
			}

			if ( A is Tile ) {
				return 0;
			}

			if ( !proximity ) {
				return 0;
			}
			A.add_fingerprint( H );
			this.draining = true;
			drained = A.ninjadrain_act( suit, H, this );
			this.draining = false;

			if ( Lang13.Bool( Lang13.IsNumber( drained ) ) ) {
				
				if ( Lang13.Bool( drained ) ) {
					((dynamic)H).WriteMsg( new Txt( "<span class='notice'>Gained <B>" ).item( drained ).str( "</B> energy from " ).the( A ).item().str( ".</span>" ).ToString() );
				} else {
					((dynamic)H).WriteMsg( new Txt( "<span class='danger'>" ).The( A ).item().str( " has run dry of power, you must find another source!</span>" ).ToString() );
				}
			} else {
				drained = 0;
			}
			return drained;
		}

	}

}