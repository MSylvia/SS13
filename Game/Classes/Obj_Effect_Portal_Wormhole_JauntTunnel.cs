// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Effect_Portal_Wormhole_JauntTunnel : Obj_Effect_Portal_Wormhole {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.icon = "icons/effects/effects.dmi";
			this.icon_state = "bhole3";
		}

		public Obj_Effect_Portal_Wormhole_JauntTunnel ( dynamic loc = null, dynamic target = null, Obj_Item_Weapon creator = null, int? lifespan = null ) : base( (object)(loc), (object)(target), creator, lifespan ) {
			
		}

		// Function from file: equipment_locker.dm
		public override void teleport( dynamic M = null ) {
			dynamic L = null;

			
			if ( M is Obj_Effect ) {
				return;
			}

			if ( M is Ent_Dynamic ) {
				
				if ( GlobalFuncs.do_teleport( M, this.target, 6 ) ) {
					
					if ( M is Mob_Living_Carbon ) {
						L = M;
						((Mob)L).Weaken( 3 );

						if ( L is Mob_Living_Carbon_Human ) {
							GlobalFuncs.shake_camera( L, 20, 1 );
							Task13.Schedule( 20, (Task13.Closure)(() => {
								
								if ( Lang13.Bool( L ) ) {
									((Mob_Living_Carbon)L).vomit( 20 );
								}
								return;
							}));
						}
					}
				}
			}
			return;
		}

	}

}