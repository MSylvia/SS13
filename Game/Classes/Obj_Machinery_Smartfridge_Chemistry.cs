// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Machinery_Smartfridge_Chemistry : Obj_Machinery_Smartfridge {

		public ByTable spawn_meds = new ByTable()
											.Set( typeof(Obj_Item_Weapon_ReagentContainers_Pill_Epinephrine), 12 )
											.Set( typeof(Obj_Item_Weapon_ReagentContainers_Pill_Charcoal), 1 )
											.Set( typeof(Obj_Item_Weapon_ReagentContainers_Glass_Bottle_Epinephrine), 1 )
											.Set( typeof(Obj_Item_Weapon_ReagentContainers_Glass_Bottle_Charcoal), 1 )
										;

		// Function from file: smartfridge.dm
		public Obj_Machinery_Smartfridge_Chemistry ( dynamic loc = null ) : base( (object)(loc) ) {
			dynamic typekey = null;
			int? amount = null;
			dynamic I = null;

			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;

			foreach (dynamic _a in Lang13.Enumerate( this.spawn_meds )) {
				typekey = _a;
				
				amount = Lang13.IntNullable( this.spawn_meds[typekey] );

				if ( amount == null ) {
					amount = 1;
				}

				while (Lang13.Bool( amount )) {
					I = Lang13.Call( typekey, this );
					this.load( I );
					amount--;
				}
			}
			return;
		}

		// Function from file: smartfridge.dm
		public override bool accept_check( dynamic O = null ) {
			Obj_Item I = null;

			
			if ( O is Obj_Item_Weapon_Storage_PillBottle ) {
				
				if ( O.contents.len != 0 ) {
					
					foreach (dynamic _a in Lang13.Enumerate( O, typeof(Obj_Item) )) {
						I = _a;
						

						if ( !this.accept_check( I ) ) {
							return false;
						}
					}
					return true;
				}
				return false;
			}

			if ( !( O is Obj_Item_Weapon_ReagentContainers ) ) {
				return false;
			}

			if ( O is Obj_Item_Weapon_ReagentContainers_Pill ) {
				return true;
			}

			if ( !Lang13.Bool( O.reagents ) || !Lang13.Bool( O.reagents.reagent_list.len ) ) {
				return false;
			}

			if ( O is Obj_Item_Weapon_ReagentContainers_Syringe || O is Obj_Item_Weapon_ReagentContainers_Glass_Bottle || O is Obj_Item_Weapon_ReagentContainers_Glass_Beaker || O is Obj_Item_Weapon_ReagentContainers_Spray ) {
				return true;
			}
			return false;
		}

	}

}