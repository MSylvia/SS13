// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Projectile_Energy_ChronoBeam : Obj_Item_Projectile_Energy {

		public dynamic gun = null;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.range = 3;
			this.nodamage = true;
			this.icon_state = "chronobolt";
		}

		public Obj_Item_Projectile_Energy_ChronoBeam ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: chrono_eraser.dm
		public override dynamic on_hit( Ent_Static target = null, double? blocked = null, dynamic hit_zone = null ) {
			Obj_Effect_ChronoField F = null;

			
			if ( target != null && Lang13.Bool( this.gun ) && target is Mob_Living ) {
				F = new Obj_Effect_ChronoField( target.loc, target, this.gun );
				((Obj_Item_Weapon_Gun_Energy_ChronoGun)this.gun).field_connect( F );
			}
			return null;
		}

		// Function from file: chrono_eraser.dm
		public override bool fire(  ) {
			this.gun = ((Mob)this.firer).get_active_hand();

			if ( this.gun is Obj_Item_Weapon_Gun_Energy_ChronoGun ) {
				return base.fire();
			} else {
				return false;
			}
		}

	}

}