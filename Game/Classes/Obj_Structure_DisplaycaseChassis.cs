// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Structure_DisplaycaseChassis : Obj_Structure {

		public dynamic electronics = null;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.anchored = 1;
			this.icon = "icons/obj/stationobjs.dmi";
			this.icon_state = "glassbox_chassis";
		}

		public Obj_Structure_DisplaycaseChassis ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: displaycase.dm
		public override dynamic attackby( dynamic A = null, dynamic user = null, string _params = null, bool? silent = null, bool? replace_spent = null ) {
			dynamic G = null;
			Obj_Structure_Displaycase display = null;

			
			if ( A is Obj_Item_Weapon_Wrench ) {
				user.WriteMsg( "<span class='notice'>You start disassembling " + this + "...</span>" );
				GlobalFuncs.playsound( this.loc, "sound/items/ratchet.ogg", 50, 1 );

				if ( GlobalFuncs.do_after( user, 30 / A.toolspeed, null, this ) ) {
					GlobalFuncs.playsound( this.loc, "sound/items/Deconstruct.ogg", 50, 1 );
					new Obj_Item_Stack_Sheet_Mineral_Wood( GlobalFuncs.get_turf( this ) );
					GlobalFuncs.qdel( this );
					return null;
				}
			}

			if ( A is Obj_Item_Weapon_Electronics_Airlock ) {
				user.WriteMsg( "<span class='notice'>You start installing the electronics into " + this + "...</span>" );
				GlobalFuncs.playsound( this.loc, "sound/items/ratchet.ogg", 50, 1 );

				if ( ((Mob)user).unEquip( A ) && GlobalFuncs.do_after( user, 30, null, this ) ) {
					A.loc = this;
					this.electronics = A;
					user.WriteMsg( "<span class='notice'>You install the airlock electronics.</span>" );
					return null;
				}
			}

			if ( A is Obj_Item_Stack_Sheet_Glass ) {
				G = A;

				if ( ( ((Obj_Item_Stack)G).get_amount() ??0) < 10 ) {
					user.WriteMsg( "<span class='warning'>You need ten glass sheets to do this!</span>" );
					return null;
				}
				user.WriteMsg( "<span class='notice'>You start adding " + G + " to " + this + "...</span>" );

				if ( GlobalFuncs.do_after( user, 20, null, this ) ) {
					((Obj_Item_Stack)G).use( 10 );
					display = new Obj_Structure_Displaycase( this.loc );

					if ( Lang13.Bool( this.electronics ) ) {
						this.electronics.loc = display;
						display.electronics = this.electronics;

						if ( this.electronics.one_access ) {
							display.req_one_access = this.electronics.accesses;
						} else {
							display.req_access = this.electronics.accesses;
						}
					}
					GlobalFuncs.qdel( this );
				}
				return null;
			}
			return null;
		}

	}

}