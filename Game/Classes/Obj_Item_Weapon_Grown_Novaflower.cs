// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_Grown_Novaflower : Obj_Item_Weapon_Grown {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.seed = typeof(Obj_Item_Seeds_Novaflowerseed);
			this.damtype = "fire";
			this.slot_flags = 64;
			this.w_class = 1;
			this.throw_speed = 1;
			this.throw_range = 3;
			this.attack_verb = new ByTable(new object [] { "roasted", "scorched", "burned" });
			this.icon_state = "novaflower";
		}

		public Obj_Item_Weapon_Grown_Novaflower ( dynamic newloc = null, int? new_potency = null ) : base( (object)(newloc), new_potency ) {
			
		}

		// Function from file: growninedible.dm
		public override bool pickup( dynamic user = null ) {
			
			if ( !Lang13.Bool( user.gloves ) ) {
				user.WriteMsg( "<span class='danger'>The " + this.name + " burns your bare hand!</span>" );
				((Mob_Living)user).adjustFireLoss( Rand13.Int( 1, 5 ) );
			}
			return false;
		}

		// Function from file: growninedible.dm
		public override bool afterattack( dynamic target = null, dynamic user = null, bool? proximity_flag = null, string click_parameters = null ) {
			
			if ( !( proximity_flag == true ) ) {
				return false;
			}

			if ( this.endurance > 0 ) {
				this.endurance -= Rand13.Int( 1, ((int)( this.endurance / 3 + 1 )) );
			} else {
				Task13.User.WriteMsg( "<span class='warning'>All the petals have fallen off the " + this.name + " from violent whacking!</span>" );
				Task13.User.unEquip( this );
				GlobalFuncs.qdel( this );
			}
			return false;
		}

		// Function from file: growninedible.dm
		public override bool attack( dynamic M = null, dynamic user = null, bool? def_zone = null ) {
			
			if ( !base.attack( (object)(M), (object)(user), def_zone ) ) {
				return false;
			}

			if ( M is Mob_Living ) {
				M.WriteMsg( "<span class='danger'>You are lit on fire from the intense heat of the " + this.name + "!</span>" );
				((Mob_Living)M).adjust_fire_stacks( ( this.potency ??0) / 20 );
				M.IgniteMob();
			}
			return false;
		}

		// Function from file: growninedible.dm
		public override bool add_juice(  ) {
			
			if ( base.add_juice() ) {
				this.reagents.add_reagent( "nutriment", 1 );
				this.reagents.add_reagent( "capsaicin", Num13.Round( ( this.potency ??0) / 3.5, 1 ) );
				this.reagents.add_reagent( "condensedcapsaicin", Num13.Round( ( this.potency ??0) / 4, 1 ) );
			}
			this.force = Num13.Round( ( this.potency ??0) / 5 + 5, 1 );
			return false;
		}

	}

}