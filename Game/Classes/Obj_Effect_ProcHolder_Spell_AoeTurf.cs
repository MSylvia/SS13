// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Effect_ProcHolder_Spell_AoeTurf : Obj_Effect_ProcHolder_Spell {

		public int inner_radius = -1;

		public Obj_Effect_ProcHolder_Spell_AoeTurf ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: spell.dm
		public override void choose_targets( Mob user = null ) {
			user = user ?? Task13.User;

			ByTable targets = null;
			dynamic target = null;

			targets = new ByTable();

			foreach (dynamic _a in Lang13.Enumerate( GlobalFuncs.view_or_range( this.range, user, this.selection_type ) )) {
				target = _a;
				

				if ( !GlobalFuncs.view_or_range( this.inner_radius, user, this.selection_type ).Contains( target ) ) {
					targets.Add( target );
				}
			}

			if ( !( targets.len != 0 ) ) {
				this.revert_cast();
				return;
			}
			this.perform( targets, null, user );
			return;
		}

	}

}