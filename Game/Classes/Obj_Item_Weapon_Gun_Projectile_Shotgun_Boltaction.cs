// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_Gun_Projectile_Shotgun_Boltaction : Obj_Item_Weapon_Gun_Projectile_Shotgun {

		public bool bolt_open = false;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.item_state = "moistnugget";
			this.mag_type = typeof(Obj_Item_AmmoBox_Magazine_Internal_Boltaction);
			this.icon_state = "moistnugget";
		}

		public Obj_Item_Weapon_Gun_Projectile_Shotgun_Boltaction ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: shotgun.dm
		public override double examine( dynamic user = null ) {
			base.examine( (object)(user) );
			user.WriteMsg( "The bolt is " + ( this.bolt_open ? "open" : "closed" ) + "." );
			return 0;
		}

		// Function from file: shotgun.dm
		public override dynamic attackby( dynamic A = null, dynamic user = null, string _params = null, bool? silent = null, bool? replace_spent = null ) {
			dynamic _default = null;

			
			if ( !this.bolt_open ) {
				user.WriteMsg( "<span class='notice'>The bolt is closed!</span>" );
				return _default;
			}
			_default = base.attackby( (object)(A), (object)(user), _params, silent, replace_spent );
			return _default;
		}

		// Function from file: shotgun.dm
		public override bool pump( dynamic M = null ) {
			GlobalFuncs.playsound( M, "sound/weapons/shotgunpump.ogg", 60, 1 );

			if ( this.bolt_open ) {
				this.pump_reload( M );
			} else {
				this.pump_unload( M );
			}
			this.bolt_open = !this.bolt_open;
			this.update_icon();
			return true;
		}

	}

}