// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Singularity_Narsie_Large : Obj_Singularity_Narsie {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.pixel_x = -236;
			this.pixel_y = -256;
			this.current_size = 12;
			this.grav_pull = 10;
			this.consume_range = 12;
			this.icon = "icons/obj/narsie.dmi";
		}

		// Function from file: narsie.dm
		public Obj_Singularity_Narsie_Large ( dynamic loc = null, int? starting_energy = null, bool? temp = null ) : base( (object)(loc), starting_energy, temp ) {
			dynamic A = null;
			Image alert_overlay = null;

			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			Game13.WriteMsg( "<span class='narsie'>NAR-SIE HAS RISEN</span>" );
			Game13.WriteMsg( Rand13.Pick(new object [] { "sound/hallucinations/im_here1.ogg", "sound/hallucinations/im_here2.ogg" }) );
			A = GlobalFuncs.get_area( this );

			if ( Lang13.Bool( A ) ) {
				alert_overlay = new Image( "icons/mob/mob.dmi", "harvester" );
				GlobalFuncs.notify_ghosts( new Txt( "Nar-Sie has risen in " ).the( A.name ).item().str( ". Reach out to the Geometer to be given a new shell for your soul." ).ToString(), null, null, this, alert_overlay, true );
			}
			this.narsie_spawn_animation();
			Task13.Sleep( 70 );
			GlobalVars.SSshuttle.emergency.request( null, 0.3 );
			return;
		}

		// Function from file: narsie.dm
		public override void attack_ghost( Mob user = null ) {
			GlobalFuncs.makeNewConstruct( typeof(Mob_Living_SimpleAnimal_Hostile_Construct_Harvester), user, null, false, this.loc );
			GlobalFuncs.PoolOrNew( typeof(Obj_Effect_ParticleEffect_Smoke_Sleeping), this.loc );
			return;
		}

	}

}