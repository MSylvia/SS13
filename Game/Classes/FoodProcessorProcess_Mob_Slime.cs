// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class FoodProcessorProcess_Mob_Slime : FoodProcessorProcess_Mob {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.input = typeof(Mob_Living_SimpleAnimal_Slime);
		}

		// Function from file: processor.dm
		public override void process_food( Ent_Static loc = null, dynamic what = null, Obj_Machinery_Processor processor = null ) {
			dynamic S = null;
			int C = 0;
			double i = 0;

			S = what;
			C = S.cores;

			if ( Convert.ToInt32( S.stat ) != 2 ) {
				S.loc = loc;
				((Ent_Static)S).visible_message( "<span class='notice'>" + C + " crawls free of the processor!</span>" );
				return;
			}

			foreach (dynamic _a in Lang13.IterateRange( 1, C + Convert.ToDouble( processor.rating_amount ) - 1 )) {
				i = _a;
				
				Lang13.Call( S.coretype, loc );
				GlobalFuncs.feedback_add_details( "slime_core_harvested", "" + GlobalFuncs.replacetext( S.colour, " ", "_" ) );
			}
			base.process_food( loc, (object)(what), processor );
			return;
		}

	}

}