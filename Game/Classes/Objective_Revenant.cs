// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Objective_Revenant : Objective {

		public int targetAmount = 100;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.dangerrating = 10;
		}

		// Function from file: revenant.dm
		public Objective_Revenant ( string text = null ) : base( text ) {
			this.targetAmount = Rand13.Int( 200, 500 );
			this.explanation_text = "Absorb " + this.targetAmount + " points of essence from humans.";
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			return;
		}

		// Function from file: revenant.dm
		public override int check_completion(  ) {
			Mob_Living_SimpleAnimal_Revenant R = null;
			int essence_stolen = 0;

			
			if ( !( this.owner.current is Mob_Living_SimpleAnimal_Revenant ) ) {
				return 0;
			}
			R = this.owner.current;

			if ( !( R != null ) || R.stat == 2 ) {
				return 0;
			}
			essence_stolen = R.essence_accumulated;

			if ( essence_stolen < this.targetAmount ) {
				return 0;
			}
			return 1;
		}

	}

}