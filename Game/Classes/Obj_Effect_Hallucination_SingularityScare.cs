// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Effect_Hallucination_SingularityScare : Obj_Effect_Hallucination {

		public Obj_Effect_Hallucination_Simple_Singularity s = null;

		// Function from file: Hallucination.dm
		public Obj_Effect_Hallucination_SingularityScare ( dynamic loc = null, Mob_Living_Carbon T = null ) : base( (object)(loc) ) {
			Ent_Static start = null;
			int screen_border = 0;
			int? i = null;
			int? i2 = null;

			this.target = T;
			start = T.loc;
			screen_border = Convert.ToInt32( Rand13.Pick(new object [] { GlobalVars.SOUTH, GlobalVars.EAST, GlobalVars.WEST, GlobalVars.NORTH }) );
			i = null;
			i = 0;

			while (( i ??0) < 11) {
				start = Map13.GetStep( start, screen_border );
				i++;
			}
			this.s = new Obj_Effect_Hallucination_Simple_Singularity( start, this.target );
			i2 = null;
			i2 = 0;

			while (( i2 ??0) < 11) {
				Task13.Sleep( 5 );
				this.s.loc = Map13.GetStep( GlobalFuncs.get_turf( this.s ), Map13.GetDistance( this.s, this.target ) );
				this.s.Show();
				this.s.Eat();
				i2++;
			}
			GlobalFuncs.qdel( this.s );
			return;
		}

	}

}