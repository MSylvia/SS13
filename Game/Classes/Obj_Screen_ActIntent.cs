// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Screen_ActIntent : Obj_Screen {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.icon_state = "help";
		}

		public Obj_Screen_ActIntent ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: screen_objects.dm
		public override bool Click( dynamic loc = null, string control = null, string _params = null ) {
			double? ___x = null;
			double? ___y = null;

			
			if ( Task13.User is Mob_Living_Carbon_Human && Lang13.Bool( Task13.User.client.prefs.toggles & 32 ) ) {
				___x = String13.ParseNumber( String13.ParseUrlParams( _params )["icon-x"] );
				___y = String13.ParseNumber( String13.ParseUrlParams( _params )["icon-y"] );

				if ( ( ___x ??0) <= 16 && ( ___y ??0) <= 16 ) {
					Task13.User.a_intent_change( "harm" );
				} else if ( ( ___x ??0) <= 16 && ( ___y ??0) >= 17 ) {
					Task13.User.a_intent_change( "help" );
				} else if ( ( ___x ??0) >= 17 && ( ___y ??0) <= 16 ) {
					Task13.User.a_intent_change( "grab" );
				} else if ( ( ___x ??0) >= 17 && ( ___y ??0) >= 17 ) {
					Task13.User.a_intent_change( "disarm" );
				}
			} else {
				Task13.User.a_intent_change( "right" );
			}
			return false;
		}

	}

}