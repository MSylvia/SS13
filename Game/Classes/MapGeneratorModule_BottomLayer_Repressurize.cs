// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class MapGeneratorModule_BottomLayer_Repressurize : MapGeneratorModule_BottomLayer {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.spawnableAtoms = new ByTable();
			this.spawnableTurfs = new ByTable();
		}

		// Function from file: helpers.dm
		public override void generate(  ) {
			ByTable map = null;
			Tile_Simulated T = null;
			Tile_Simulated T2 = null;

			
			if ( !( this.mother != null ) ) {
				return;
			}
			map = this.mother.map;

			foreach (dynamic _a in Lang13.Enumerate( map, typeof(Tile_Simulated) )) {
				T = _a;
				
				GlobalVars.SSair.remove_from_active( T );
			}

			foreach (dynamic _b in Lang13.Enumerate( map, typeof(Tile_Simulated) )) {
				T2 = _b;
				

				if ( T2.air != null ) {
					T2.air.oxygen = T2.oxygen;
					T2.air.nitrogen = T2.nitrogen;
					T2.air.carbon_dioxide = T2.carbon_dioxide ?1:0;
					T2.air.toxins = T2.toxins ?1:0;
					T2.air.temperature = T2.temperature;
				}
				GlobalVars.SSair.add_to_active( T2 );
			}
			return;
		}

	}

}