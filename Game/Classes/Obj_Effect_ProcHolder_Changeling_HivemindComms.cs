// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Effect_ProcHolder_Changeling_HivemindComms : Obj_Effect_ProcHolder_Changeling {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.helptext = "We will be able to talk with other changelings with :g. Exchanged DNA do not count towards absorb objectives.";
			this.dna_cost = 0;
			this.chemical_cost = -1;
		}

		public Obj_Effect_ProcHolder_Changeling_HivemindComms ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: hivemind.dm
		public override void on_purchase( Mob user = null ) {
			Changeling changeling = null;
			Obj_Effect_ProcHolder_Changeling_HivemindUpload S1 = null;
			Obj_Effect_ProcHolder_Changeling_HivemindDownload S2 = null;

			base.on_purchase( user );
			changeling = user.mind.changeling;
			changeling.changeling_speak = true;
			user.WriteMsg( "<i><font color=#800080>Use say \":g message\" to communicate with the other changelings.</font></i>" );
			S1 = new Obj_Effect_ProcHolder_Changeling_HivemindUpload();

			if ( !changeling.has_sting( S1 ) ) {
				changeling.purchasedpowers.Add( S1 );
			}
			S2 = new Obj_Effect_ProcHolder_Changeling_HivemindDownload();

			if ( !changeling.has_sting( S2 ) ) {
				changeling.purchasedpowers.Add( S2 );
			}
			return;
		}

	}

}