// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Item_Weapon_SleepingCarpScroll : Obj_Item_Weapon {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.icon = "icons/obj/wizard.dmi";
			this.icon_state = "scroll2";
		}

		public Obj_Item_Weapon_SleepingCarpScroll ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: martial.dm
		public override dynamic attack_self( dynamic user = null, dynamic flag = null, bool? emp = null ) {
			MartialArt_TheSleepingCarp theSleepingCarp = null;

			
			if ( !( user is Mob_Living_Carbon_Human ) || !Lang13.Bool( user ) ) {
				return null;
			}

			if ( !GlobalFuncs.is_in_gang( user, "Sleeping Carp" ) ) {
				user.WriteMsg( "<span class='warning'>You can't comprehend the runes and symbols drawn on " + this + ".</span>" );
				return 0;
			}
			user.WriteMsg( "<span class='sciradio'>You have learned the ancient martial art of the Sleeping Carp! Your hand-to-hand combat has become much more effective, and you are now able to deflect any projectiles directed toward you. However, you are also unable to use any ranged weaponry. You can learn more about your newfound art by using the Recall Teachings verb in the Sleeping Carp tab.</span>" );
			theSleepingCarp = new MartialArt_TheSleepingCarp( /* Pruned args, no ctor exists. */ );
			theSleepingCarp.teach( user );
			user.drop_item();
			this.visible_message( "<span class='warning'>" + this + " lights up in fire and quickly burns to ash.</span>" );
			new Obj_Effect_Decal_Cleanable_Ash( GlobalFuncs.get_turf( this ) );
			GlobalFuncs.qdel( this );
			return null;
		}

	}

}