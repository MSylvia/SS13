// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Obj_Machinery_PortableAtmospherics_Canister_SleepingAgent_Roomfiller : Obj_Machinery_PortableAtmospherics_Canister_SleepingAgent {

		// Function from file: canister.dm
		public Obj_Machinery_PortableAtmospherics_Canister_SleepingAgent_Roomfiller ( dynamic loc = null ) : base( (object)(loc) ) {
			Gas trace_gas = null;
			Ent_Static location = null;

			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			trace_gas = this.air_contents.trace_gases[1];
			trace_gas.moles = 36000;
			Task13.Schedule( 10, (Task13.Closure)(() => {
				location = this.loc;

				if ( this.loc is Ent_Static ) {
					
					while (!Lang13.Bool( ((dynamic)location).air )) {
						Task13.Sleep( 10 );
					}
					location.assume_air( this.air_contents );
					this.air_contents = new GasMixture();
				}
				return;
			}));
			return; // Warning! Attempt to return some other value!
		}

	}

}