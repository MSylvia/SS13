// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Tech : Game_Data {

		public string name = "name";
		public string desc = "description";
		public string id = "id";
		public int level = 1;
		public int rare = 1;
		public ByTable req_tech = new ByTable();

		// Function from file: research.dm
		public double getCost( dynamic current_level = null ) {
			double cost = 0;
			dynamic i = null;

			
			if ( !Lang13.Bool( current_level ) ) {
				current_level = Lang13.Initial( this, "level" );
			}

			if ( Convert.ToDouble( current_level ) >= this.level ) {
				return 0;
			}
			cost = 0;
			i = current_level + 1;

			while (Convert.ToDouble( i ) <= this.level) {
				
				if ( i == Lang13.Initial( this, "level" ) ) {
					
				} else {
					cost += Convert.ToDouble( i * this.rare * 5 );
				}
				i++;
			}
			return cost;
		}

	}

}