// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Weather_FloorIsLava : Weather {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.name = "floor is lava";
			this.start_up_time = 30;
			this.start_up_message = "The ground begins to bubble.";
			this.duration_lower = 45;
			this.duration_upper = 60;
			this.duration_message = "The floor is lava!";
			this.wind_down = 30;
			this.wind_down_message = "The ground begins to cool.";
			this.area_type = typeof(Zone);
			this.overlay_layer = 2;
		}

		// Function from file: weather_types.dm
		public override void storm_act( Mob_Living L = null ) {
			dynamic F = null;
			Obj_Structure O = null;

			F = GlobalFuncs.get_turf( L );

			foreach (dynamic _a in Lang13.Enumerate( F.contents, typeof(Obj_Structure) )) {
				O = _a;
				

				if ( ( O.level ??0) > Convert.ToDouble( F.level ) && !( O is Obj_Structure_Window ) ) {
					return;
				}
			}
			L.adjustFireLoss( 3 );
			return;
		}

	}

}