// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Mob_Living_SimpleAnimal_Hostile_Asteroid_Goliath : Mob_Living_SimpleAnimal_Hostile_Asteroid {

		public int pre_attack = 0;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.icon_living = "Goliath";
			this.icon_aggro = "Goliath_alert";
			this.icon_dead = "Goliath_dead";
			this.icon_gib = "syndicate_gib";
			this.attack_sound = "sound/weapons/punch1.ogg";
			this.move_to_delay = 40;
			this.ranged = true;
			this.ranged_cooldown = 2;
			this.ranged_cooldown_cap = 8;
			this.friendly = "wails at";
			this.speak_emote = new ByTable(new object [] { "bellows" });
			this.vision_range = 4;
			this.speed = 3;
			this.maxHealth = 300;
			this.health = 300;
			this.harm_intent_damage = 0;
			this.melee_damage_lower = 25;
			this.melee_damage_upper = 25;
			this.attacktext = "pulverizes";
			this.throw_message = "does nothing to the rocky hide of the";
			this.idle_vision_range = 5;
			this.anchored = 1;
			this.mob_size = 3;
			this.loot = new ByTable(new object [] { new ObjectInitializer(typeof(Obj_Item_Asteroid_GoliathHide)).Set( "layer", 401 ) });
			this.icon_state = "Goliath";
		}

		public Mob_Living_SimpleAnimal_Hostile_Asteroid_Goliath ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: mining_mobs.dm
		public override void Aggro(  ) {
			this.vision_range = this.aggro_vision_range;
			this.handle_preattack();

			if ( this.icon_state != this.icon_aggro ) {
				this.icon_state = this.icon_aggro;
			}
			return;
		}

		// Function from file: mining_mobs.dm
		public override bool adjustHealth( dynamic amount = null ) {
			this.ranged_cooldown--;
			this.handle_preattack();
			base.adjustHealth( (object)(amount) );
			return false;
		}

		// Function from file: mining_mobs.dm
		public override void OpenFire( dynamic A = null ) {
			dynamic tturf = null;

			tturf = GlobalFuncs.get_turf( this.target );

			if ( !( tturf is Tile_Simulated ) ) {
				return;
			}

			if ( Map13.GetDistance( this, this.target ) <= 7 ) {
				this.visible_message( "<span class='warning'>The " + this.name + " digs its tentacles under " + this.target.name + "!</span>" );
				new Obj_Effect_GoliathTentacle_Original( tturf );
				this.ranged_cooldown = this.ranged_cooldown_cap;
				this.icon_state = this.icon_aggro;
				this.pre_attack = 0;
			}
			return;
		}

		// Function from file: mining_mobs.dm
		public override bool death( bool? gibbed = null, bool? toast = null ) {
			this.anchored = 0;
			base.death( gibbed, toast );
			return false;
		}

		// Function from file: mining_mobs.dm
		public override void revive(  ) {
			this.anchored = 1;
			base.revive();
			return;
		}

		// Function from file: mining_mobs.dm
		public void handle_preattack(  ) {
			
			if ( this.ranged_cooldown <= 2 && !( this.pre_attack != 0 ) ) {
				this.pre_attack++;
			}

			if ( !( this.pre_attack != 0 ) || this.stat != 0 || this.AIStatus == 2 ) {
				return;
			}
			this.icon_state = "Goliath_preattack";
			return;
		}

		// Function from file: mining_mobs.dm
		public override bool Life(  ) {
			base.Life();
			this.handle_preattack();
			return false;
		}

	}

}