// FILE AUTOGENERATED BY SOM13. DO NOT EDIT YET.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Objective_Capture : Objective {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.dangerrating = 10;
		}

		public Objective_Capture ( string text = null ) : base( text ) {
			
		}

		// Function from file: objective.dm
		public override int check_completion(  ) {
			double? captured_amount = null;
			dynamic A = null;
			Mob_Living_Carbon_Human M = null;
			Mob_Living_Carbon_Monkey M2 = null;
			Mob_Living_Carbon_Alien_Larva M3 = null;
			Mob_Living_Carbon_Alien_Humanoid M4 = null;

			captured_amount = 0;
			A = Lang13.FindObj( typeof(Zone_Centcom_Holding) );

			foreach (dynamic _a in Lang13.Enumerate( A, typeof(Mob_Living_Carbon_Human) )) {
				M = _a;
				

				if ( M.stat == 2 ) {
					captured_amount += 0.5;
					continue;
				}
				captured_amount += 1;
			}

			foreach (dynamic _b in Lang13.Enumerate( A, typeof(Mob_Living_Carbon_Monkey) )) {
				M2 = _b;
				
				captured_amount += 0.1;
			}

			foreach (dynamic _c in Lang13.Enumerate( A, typeof(Mob_Living_Carbon_Alien_Larva) )) {
				M3 = _c;
				

				if ( M3.stat == 2 ) {
					captured_amount += 0.5;
					continue;
				}
				captured_amount += 1;
			}

			foreach (dynamic _d in Lang13.Enumerate( A, typeof(Mob_Living_Carbon_Alien_Humanoid) )) {
				M4 = _d;
				

				if ( M4 is Mob_Living_Carbon_Alien_Humanoid_Royal_Queen ) {
					
					if ( M4.stat == 2 ) {
						captured_amount += 1.5;
					} else {
						captured_amount += 3;
					}
					continue;
				}

				if ( M4.stat == 2 ) {
					captured_amount += 1;
					continue;
				}
				captured_amount += 2;
			}

			if ( ( captured_amount ??0) < ( this.target_amount ??0) ) {
				return 0;
			}
			return 1;
		}

		// Function from file: objective.dm
		public double? gen_amount_goal(  ) {
			this.target_amount = Rand13.Int( 5, 10 );
			this.explanation_text = new Txt( "Capture " ).item( this.target_amount ).str( " lifeform" ).s().str( " with an energy net. Live, rare specimens are worth more." ).ToString();
			return this.target_amount;
		}

	}

}