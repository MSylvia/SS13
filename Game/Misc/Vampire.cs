// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Vampire : Game_Data {

		public int bloodtotal = 0;
		public int? bloodusable = 0;
		public Mob_Living owner = null;
		public string gender = "female";
		public bool iscloaking = false;
		public bool ismenacing = false;
		public ByTable powers = new ByTable();
		public Mob_Living_Carbon_Human draining = null;
		public int nullified = 0;
		public double smitecounter = 0;

		// Function from file: vampire.dm
		public Vampire ( string gend = null ) {
			gend = gend ?? GlobalVars.FEMALE;

			this.gender = gend;
			return;
		}

		// Function from file: vampire.dm
		public void OnLife(  ) {
			
			if ( !( this.owner != null ) ) {
				return;
			}

			if ( !( this.owner.druggy != 0 ) ) {
				this.owner.see_invisible = 45;
			}

			if ( this.powers.Contains( 13 ) ) {
				this.owner.sight |= 28;
				this.owner.see_in_dark = 8;
				this.owner.see_invisible = 5;
			} else if ( this.powers.Contains( 5 ) ) {
				this.owner.sight |= GlobalVars.SEE_MOBS;
			}
			return;
		}

	}

}