// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class ShuttleCall : Game_Data {

		public int direction = 0;
		public string who = "";
		public string ckey = "";
		public dynamic from = null;
		public string where = "";
		public string when = null;
		public string eta = null;

		// Function from file: communications.dm
		public ShuttleCall ( dynamic user = null, dynamic computer = null, int dir = 0 ) {
			double timeleft = 0;

			this.direction = dir;

			if ( Lang13.Bool( user ) ) {
				this.who = "" + user;
				this.ckey = "" + user.key;
			}

			if ( Lang13.Bool( computer ) ) {
				this.where = "" + computer;
				this.from = GlobalFuncs.get_turf( computer );
			}
			this.when = GlobalFuncs.worldtime2text();

			if ( dir == -1 ) {
				timeleft = GlobalVars.emergency_shuttle.timeleft();
				this.eta = "" + timeleft / 60 % 60 + ":" + GlobalFuncs.add_zero( String13.NumberToString( timeleft % 60 ), 2 );
			}
			return;
		}

	}

}