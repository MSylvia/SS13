// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Migration_Mysql_Ss13__003 : Migration_Mysql_Ss13 {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.id = 3;
			this.name = "Add Multi-Option Polls";
		}

		public Migration_Mysql_Ss13__003 ( dynamic mc = null ) : base( (object)(mc) ) {
			
		}

		// Function from file: 003-add-multi-option-polls.dm
		public override bool? down(  ) {
			
			if ( Lang13.Bool( this.hasColumn( "erro_poll_question", "multiplechoiceoptions" ) ) ) {
				return this.execute( "ALTER TABLE erro_poll_question DROP COLUMN `multiplechoiceoptions`;" );
			} else {
				Game13.log.WriteMsg( "## WARNING: " + "multiplechoiceoptions column does not exist. Skipping drop." );
			}
			return GlobalVars.TRUE;
		}

		// Function from file: 003-add-multi-option-polls.dm
		public override bool? up(  ) {
			
			if ( !Lang13.Bool( this.hasColumn( "erro_poll_question", "multiplechoiceoptions" ) ) ) {
				return this.execute( "ALTER TABLE erro_poll_question ADD COLUMN `multiplechoiceoptions` int(2) DEFAULT NULL;" );
			} else {
				Game13.log.WriteMsg( "## WARNING: " + "multiplechoiceoptions column exists. Skipping addition." );
			}
			return GlobalVars.TRUE;
		}

	}

}