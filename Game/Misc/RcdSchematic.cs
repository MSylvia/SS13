// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class RcdSchematic : Game_Data {

		public string name = "whomp";
		public string category = "";
		public double energy_cost = 0;
		public int flags = 0;
		public Obj_Item_Device_Rcd master = null;
		public string icon = null;
		public string icon_state = null;
		public Game_Data ourobj = null;
		public SelectionSchematic_AirlockSchematic selected = null;

		// Function from file: schematic.dm
		public RcdSchematic ( dynamic n_master = null ) {
			this.master = n_master;
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			this.ourobj = GlobalFuncs.getFromPool( typeof(Obj_Screen_Schematics), null, this );
			return;
		}

		// Function from file: schematic.dm
		public virtual void build_ui(  ) {
			this.master.v_interface.updateLayout( "<div id='schematic_options'> </div>" );
			return;
		}

		// Function from file: schematic.dm
		public virtual void register_assets(  ) {
			return;
		}

		// Function from file: schematic.dm
		public virtual void send_assets( dynamic client = null ) {
			return;
		}

		// Function from file: schematic.dm
		public virtual dynamic get_HTML( dynamic D = null ) {
			return " ";
		}

		// Function from file: schematic.dm
		public virtual bool select( Mob user = null, RcdSchematic old_schematic = null ) {
			
			if ( old_schematic != null ) {
				old_schematic.deselect( user, this );
			}
			this.master.spark();
			this.master.selected = this;
			return true;
		}

		// Function from file: schematic.dm
		public virtual bool deselect( Mob user = null, RcdSchematic new_schematic = null ) {
			return true;
		}

		// Function from file: schematic.dm
		public bool clicked( Mob user = null ) {
			this.select( user, this.master.selected );
			return false;
		}

		// Function from file: schematic.dm
		public virtual dynamic attack( dynamic A = null, dynamic user = null ) {
			return 0;
		}

		// Function from file: schematic.dm
		public virtual bool show( dynamic user = null, bool? close = null ) {
			return false;
		}

		// Function from file: schematic.dm
		public override dynamic Destroy( dynamic brokenup = null ) {
			dynamic C = null;

			this.master = null;

			if ( this.ourobj != null ) {
				
				foreach (dynamic _a in Lang13.Enumerate( GlobalVars.clients )) {
					C = _a;
					

					if ( !Lang13.Bool( ((dynamic)typeof(Client)).IsInstanceOfType( C ) ) ) {
						continue;
					}
					C.screen.Remove( this.ourobj );
				}
				GlobalFuncs.returnToPool( this.ourobj );
				this.ourobj = null;
			}
			return null;
		}

	}

}