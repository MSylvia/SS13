// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class ChemicalReaction : Game_Data {

		public string name = null;
		public string id = null;
		public string result = null;
		public ByTable required_reagents = new ByTable();
		public ByTable required_catalysts = new ByTable();
		public Type required_container = null;
		public bool required_other = false;
		public int? result_amount = 0;
		public bool secondary = false;
		public ByTable secondary_results = new ByTable();
		public bool requires_heating = false;

		// Function from file: Chemistry-Recipes.dm
		public virtual void on_reaction( Reagents holder = null, int? created_volume = null ) {
			return;
		}

		// Function from file: Chemistry-Recipes.dm
		public void send_admin_alert( Reagents holder = null, string reaction_name = null ) {
			reaction_name = reaction_name ?? this.name;

			string message_prefix = null;
			string message = null;
			Ent_Static A = null;
			dynamic T = null;
			dynamic my_area = null;
			dynamic M = null;

			message_prefix = new Txt().A( reaction_name ).item().str( " reaction has occured" ).ToString();
			message = "" + message_prefix;
			A = holder.my_atom;

			if ( A != null ) {
				T = GlobalFuncs.get_turf( A );
				my_area = GlobalFuncs.get_area( T );
				message += new Txt( " in " ).item( GlobalFuncs.formatJumpTo( T ) ).str( ". (<A HREF='?_src_=vars;Vars=" ).Ref( A ).str( "'>VV</A>)" ).ToString();
				M = GlobalFuncs.get( A, typeof(Mob) );

				if ( Lang13.Bool( M ) ) {
					message += new Txt( " - Carried By: " ).item( M.real_name ).str( " (" ).item( M.key ).str( ") (<A HREF='?_src_=holder;adminplayeropts=" ).Ref( M ).str( "'>PP</A>) (<A HREF='?_src_=holder;adminmoreinfo=" ).Ref( M ).str( "'>?</A>)" ).ToString();
					GlobalVars.diary.WriteMsg( String13.HtmlDecode( "[" + GlobalFuncs.time_stamp() + "]GAME: " + ( "" + message_prefix + " in " + my_area.name + " (" + T.x + "," + T.y + "," + T.z + ") - Carried by " + M.real_name + " (" + M.key + ")" ) ) );
				} else {
					message += " - Last Fingerprint: " + ( Lang13.Bool( A.fingerprintslast ) ? A.fingerprintslast : "N/A" );
					GlobalVars.diary.WriteMsg( String13.HtmlDecode( "[" + GlobalFuncs.time_stamp() + "]GAME: " + ( "" + message_prefix + " in " + my_area.name + " (" + T.x + "," + T.y + "," + T.z + ") - last fingerprint  " + ( Lang13.Bool( A.fingerprintslast ) ? A.fingerprintslast : "N/A" ) ) ) );
				}
			} else {
				message += ".";
			}
			GlobalFuncs.message_admins( message );
			return;
		}

	}

}