// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Migration_Mysql_Ss13__005 : Migration_Mysql_Ss13 {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.id = 5;
			this.name = "Modernize Library";
		}

		public Migration_Mysql_Ss13__005 ( dynamic mc = null ) : base( (object)(mc) ) {
			
		}

		// Function from file: 005-modernize-library.dm
		public override bool? down(  ) {
			
			if ( Lang13.Bool( this.hasColumn( "library", "ckey" ) ) ) {
				return this.execute( "ALTER TABLE library DROP COLUMN `ckey`;" );
			} else {
				Game13.log.WriteMsg( "## WARNING: " + "ckey column does not exist. Skipping drop." );
			}
			return GlobalVars.TRUE;
		}

		// Function from file: 005-modernize-library.dm
		public override bool? up(  ) {
			
			if ( !Lang13.Bool( this.hasColumn( "library", "ckey" ) ) ) {
				return this.execute( "ALTER TABLE library ADD COLUMN `ckey` VARCHAR(32) NULL;" );
			} else {
				Game13.log.WriteMsg( "## WARNING: " + "ckey column exists. Skipping addition." );
			}
			return GlobalVars.TRUE;
		}

	}

}