// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class GlobalIterator_MechaPreserveTemp : GlobalIterator {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.delay = 20;
		}

		public GlobalIterator_MechaPreserveTemp ( ByTable arguments = null, bool? autostart = null ) : base( arguments, autostart ) {
			
		}

		// Function from file: mecha.dm
		public override bool process( Obj port = null, dynamic mecha = null ) {
			dynamic delta = null;

			
			if ( Lang13.Bool( ((dynamic)port).cabin_air ) && ((GasMixture)((dynamic)port).cabin_air).return_volume() > 0 ) {
				delta = ((dynamic)port).cabin_air.temperature - 293.41;
				((dynamic)port).cabin_air.temperature -= Num13.MaxInt( -10, Num13.MinInt( 10, ((int)( Num13.Round( Convert.ToDouble( delta / 4 ), 0.1 ) )) ) );
			}
			return false;
		}

	}

}