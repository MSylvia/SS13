// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class ArtifactEffect_Radiate : ArtifactEffect {

		public int radiation_amount = 0;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.effecttype = "radiate";
		}

		// Function from file: unknown_effect_radiate.dm
		public ArtifactEffect_Radiate ( dynamic location = null ) : base( (object)(location) ) {
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			this.radiation_amount = Rand13.Int( 1, 10 );
			this.effect_type = Convert.ToInt32( Rand13.Pick(new object [] { 4, 5 }) );
			return;
		}

		// Function from file: unknown_effect_radiate.dm
		public override bool DoEffectPulse( dynamic holder = null ) {
			Mob_Living M = null;

			
			if ( this.holder != null ) {
				
				foreach (dynamic _a in Lang13.Enumerate( Map13.FetchInRange( this.holder, this.effectrange ), typeof(Mob_Living) )) {
					M = _a;
					
					M.apply_effect( this.radiation_amount * 25, "irradiate", 0 );
					M.updatehealth();
				}
				return true;
			}
			return false;
		}

		// Function from file: unknown_effect_radiate.dm
		public override bool DoEffectAura( dynamic holder = null ) {
			Mob_Living M = null;

			
			if ( this.holder != null ) {
				
				foreach (dynamic _a in Lang13.Enumerate( Map13.FetchInRange( this.holder, this.effectrange ), typeof(Mob_Living) )) {
					M = _a;
					
					M.apply_effect( this.radiation_amount, "irradiate", 0 );
					M.updatehealth();
				}
				return true;
			}
			return false;
		}

		// Function from file: unknown_effect_radiate.dm
		public override bool DoEffectTouch( dynamic user = null ) {
			
			if ( Lang13.Bool( user ) ) {
				((Mob_Living)user).apply_effect( this.radiation_amount * 5, "irradiate", 0 );
				((Mob_Living)user).updatehealth();
				return true;
			}
			return false;
		}

	}

}