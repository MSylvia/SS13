// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Watchdog : Game_Data {

		public bool waiting = false;
		public string update_signal_file = "data/UPDATE_READY.txt";
		public string server_signal_file = "data/SERVER_READY.txt";
		public string chosen_map = null;

		// Function from file: watchdog.dm
		public void signal_ready(  ) {
			dynamic signal = null;

			signal = new File( GlobalVars.server_signal_file );
			File13.Delete( signal );
			GlobalFuncs.to_chat( signal, this.chosen_map );
			return;
		}

		// Function from file: watchdog.dm
		public void check_for_update(  ) {
			
			if ( this.waiting ) {
				return;
			}

			if ( File13.Exists( GlobalVars.update_signal_file ) ) {
				this.waiting = true;
				GlobalFuncs.to_chat( typeof(Game13), "<span class='notice'>[AUTOMATIC ANNOUNCEMENT] Update received.  Server will restart automatically after the round ends.</span>" );
			}
			return;
		}

	}

}