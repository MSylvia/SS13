// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class JobObjective_MaximizeResearch : JobObjective {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.completion_payment = 1000;
		}

		public JobObjective_MaximizeResearch ( dynamic new_owner = null ) : base( (object)(new_owner) ) {
			
		}

		// Function from file: science.dm
		public override bool check_for_completion(  ) {
			Obj_Machinery_RND_Server server = null;
			Obj_Machinery_RND_Server serber = null;
			Tech T = null;
			dynamic KT = null;

			server = null;

			foreach (dynamic _a in Lang13.Enumerate( GlobalVars.machines, typeof(Obj_Machinery_RND_Server) )) {
				serber = _a;
				

				if ( serber.name == "Core R&D Server" ) {
					server = serber;
					break;
				}
			}

			if ( !( server != null ) ) {
				return false;
			}

			foreach (dynamic _b in Lang13.Enumerate( GlobalVars.tech_list, typeof(Tech) )) {
				T = _b;
				

				if ( T.goal_level == 0 ) {
					continue;
				}
				KT = Lang13.FindIn( T.type, server.files.known_tech );

				if ( !Lang13.Bool( KT ) ) {
					return false;
				}

				if ( Convert.ToDouble( KT.level ) < T.goal_level ) {
					return false;
				}
			}
			return true;
		}

		// Function from file: science.dm
		public override string get_description(  ) {
			return "Maximize all legal research tech levels.";
		}

	}

}