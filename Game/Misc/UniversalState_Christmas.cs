// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class UniversalState_Christmas : UniversalState {

		public Image space_overlay1 = null;
		public Image space_overlay2 = null;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.name = "Christmas";
			this.desc = "Unknown";
		}

		// Function from file: xmas.dm
		public override void OnEnter(  ) {
			dynamic T = null;

			this.space_overlay1 = new Image( "icons/turf/snowfx.dmi", null, "snowlayer1" );
			this.space_overlay2 = new Image( "icons/turf/snowfx.dmi", null, "snowlayer2" );
			GlobalFuncs.to_chat( typeof(Game13), "<span class='sinister' style='font-size:22pt'>You feel a sudden chill in the air...</span>" );

			foreach (dynamic _a in Lang13.Enumerate( GlobalVars.turfs )) {
				T = _a;
				
				this.OnTurfChange( T );
			}
			return;
		}

		// Function from file: xmas.dm
		public override void OnTurfChange( dynamic NT = null ) {
			dynamic spess = null;

			
			if ( NT is Tile_Simulated_Floor ) {
				new Obj_Structure_Snow( NT );
			}

			if ( NT is Tile_Space && !( NT is Tile_Space_Transit ) ) {
				spess = NT;
				spess.overlays += this.space_overlay1;
				spess.overlays += this.space_overlay2;
			}
			return;
		}

	}

}