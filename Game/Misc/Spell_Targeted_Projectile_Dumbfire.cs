// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Spell_Targeted_Projectile_Dumbfire : Spell_Targeted_Projectile {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.name = "dumbfire spell";
		}

		// Function from file: dumbfire.dm
		public override ByTable choose_targets( Mob user = null ) {
			user = user ?? Task13.User;

			ByTable targets = null;
			int starting_dir = 0;
			dynamic starting_turf = null;
			dynamic current_turf = null;
			int? i = null;

			targets = new ByTable();
			starting_dir = user.dir;
			starting_turf = GlobalFuncs.get_turf( user );
			current_turf = starting_turf;
			i = null;
			i = 1;

			while (( i ??0) <= ( this.range ??0)) {
				current_turf = Map13.GetStep( current_turf, starting_dir );
				i++;
			}
			targets.Add( current_turf );
			return targets;
		}

	}

}