// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class UniversalState : Game_Data {

		public string name = "Normal";
		public string desc = "Nothing seems awry.";
		public Type space_type = typeof(Tile_Space);
		public Type transit_space_type = typeof(Tile_Space_Transit);
		public int decay_rate = 0;

		// Function from file: endgame.dm
		public virtual void OverlayAndAmbientSet(  ) {
			return;
		}

		// Function from file: endgame.dm
		public virtual void OnTurfChange( dynamic NT = null ) {
			return;
		}

		// Function from file: endgame.dm
		public virtual void OnEnter(  ) {
			return;
		}

		// Function from file: endgame.dm
		public void OnExit(  ) {
			return;
		}

		// Function from file: endgame.dm
		public void OnTurfTick( Ent_Static T = null ) {
			
			if ( this.decay_rate != 0 && Rand13.PercentChance( this.decay_rate ) ) {
				this.DecayTurf( T );
			}
			return;
		}

		// Function from file: endgame.dm
		public virtual bool OnShuttleCall( Mob user = null ) {
			return true;
		}

		// Function from file: endgame.dm
		public virtual void DecayTurf( Ent_Static T = null ) {
			Ent_Static W = null;
			Ent_Static F = null;

			
			if ( T is Tile_Simulated_Wall ) {
				W = T;
				W.melt();
				return;
			}

			if ( T is Tile_Simulated_Floor ) {
				F = T;

				if ( !Lang13.Bool( ((dynamic)F).burnt ) ) {
					((Tile_Simulated_Floor)F).burn_tile();
				} else {
					((Tile)F).ReplaceWithLattice();
				}
				return;
			}
			return;
		}

	}

}