// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Job_Doctor : Job {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.title = "Medical Doctor";
			this.flag = 16;
			this.department_flag = 2;
			this.faction = "Station";
			this.total_positions = 5;
			this.spawn_positions = 3;
			this.supervisors = "the chief medical officer";
			this.selection_color = "#ffeef0";
			this.idtype = typeof(Obj_Item_Weapon_Card_Id_Medical);
			this.access = new ByTable(new object [] { 5, 6, 45, 33, 39, 9, 18 });
			this.minimal_access = new ByTable(new object [] { 5, 6, 45, 39 });
			this.alt_titles = new ByTable(new object [] { "Surgeon", "Emergency Physician", "Nurse", "Virologist" });
			this.pdatype = typeof(Obj_Item_Device_Pda_Medical);
			this.department = "Medical";
		}

		// Function from file: medical.dm
		public override bool equip( dynamic H = null ) {
			
			if ( !Lang13.Bool( H ) ) {
				return false;
			}
			((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Device_Radio_Headset_HeadsetMed(  ), 8 );

			dynamic _a = H.backbag; // Was a switch-case, sorry for the mess.
			if ( _a==2 ) {
				((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Weapon_Storage_Backpack_Medic( H ), 1 );
			} else if ( _a==3 ) {
				
				if ( H.mind.role_alt_title == "Virologist" ) {
					((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Weapon_Storage_Backpack_SatchelVir() );
				} else {
					((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Weapon_Storage_Backpack_SatchelMed( H ), 1 );
				}
			} else if ( _a==4 ) {
				((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Weapon_Storage_Backpack_Satchel( H ), 1 );
			}

			if ( Lang13.Bool( H.mind.role_alt_title ) ) {
				
				switch ((string)( H.mind.role_alt_title )) {
					case "Emergency Physician":
						((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Clothing_Under_Rank_Medical( H ), 14 );
						((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Clothing_Suit_Storage_FrJacket( H ), 13 );
						break;
					case "Surgeon":
						((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Clothing_Under_Rank_Medical_Blue( H ), 14 );
						((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Clothing_Suit_Storage_Labcoat( H ), 13 );
						((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Clothing_Head_Surgery_Blue( H ), 11 );
						break;
					case "Virologist":
						((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Clothing_Suit_Storage_Labcoat_Virologist( H ), 13 );
						((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Clothing_Under_Rank_Virologist( H ), 14 );
						((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Clothing_Mask_Surgical( H ), 2 );
						break;
					case "Medical Doctor":
						((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Clothing_Under_Rank_Medical( H ), 14 );
						((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Clothing_Suit_Storage_Labcoat( H ), 13 );
						break;
					case "Nurse":
						
						if ( H.gender == GlobalVars.FEMALE ) {
							
							if ( Rand13.PercentChance( 50 ) ) {
								((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Clothing_Under_Rank_Nursesuit( H ), 14 );
							} else {
								((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Clothing_Under_Rank_Nurse( H ), 14 );
							}
							((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Clothing_Head_Nursehat( H ), 11 );
						} else {
							((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Clothing_Under_Rank_Medical_Purple( H ), 14 );
						}
						break;
				}
			} else {
				((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Clothing_Under_Rank_Medical( H ), 14 );
				((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Clothing_Suit_Storage_Labcoat( H ), 13 );
			}
			((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Clothing_Shoes_White( H ), 12 );
			((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Weapon_Storage_Firstaid_Regular( H ), 4 );
			((Mob_Living_Carbon_Human)H).equip_or_collect( new Obj_Item_Device_Flashlight_Pen( H ), 17 );

			if ( Lang13.Bool( H.backbag ) == true ) {
				((Mob_Living_Carbon_Human)H).equip_or_collect( Lang13.Call( H.species.survival_gear, H ), 5 );
			} else {
				((Mob_Living_Carbon_Human)H).equip_or_collect( Lang13.Call( H.species.survival_gear, H.back ), 18 );
			}
			return true;
		}

	}

}