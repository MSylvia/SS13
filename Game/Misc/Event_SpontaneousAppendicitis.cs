// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Event_SpontaneousAppendicitis : Event {

		public Event_SpontaneousAppendicitis ( Obj_Item_MechaParts_MechaEquipment_Tool_CableLayer tlistener = null, string tprocname = null ) : base( tlistener, tprocname ) {
			
		}

		// Function from file: spontaneous_appendicitis.dm
		public override bool start(  ) {
			Mob_Living_Carbon_Human H = null;
			bool foundAlready = false;
			Disease D = null;
			Disease_Appendicitis D2 = null;

			
			foreach (dynamic _b in Lang13.Enumerate( GlobalFuncs.shuffle( GlobalVars.living_mob_list ), typeof(Mob_Living_Carbon_Human) )) {
				H = _b;
				

				if ( H.client != null && H.stat != 2 ) {
					foundAlready = false;

					foreach (dynamic _a in Lang13.Enumerate( H.viruses, typeof(Disease) )) {
						D = _a;
						
						foundAlready = true;
					}

					if ( H.stat == 2 || foundAlready ) {
						continue;
					}

					if ( H.z == GlobalVars.map.zCentcomm ) {
						continue;
					}
					D2 = new Disease_Appendicitis();
					D2.holder = H;
					D2.affected_mob = H;
					H.viruses.Add( D2 );
					break;
				}
			}
			return false;
		}

	}

}