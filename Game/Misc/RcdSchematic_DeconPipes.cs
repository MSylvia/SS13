// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class RcdSchematic_DeconPipes : RcdSchematic {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.name = "Eat pipes";
			this.category = "Utilities";
			this.flags = 4;
		}

		public RcdSchematic_DeconPipes ( dynamic n_master = null ) : base( (object)(n_master) ) {
			
		}

		// Function from file: pipe.dm
		public override dynamic attack( dynamic A = null, dynamic user = null ) {
			dynamic AM = null;

			
			if ( !( A is Ent_Dynamic ) ) {
				return 1;
			}
			AM = A;

			if ( !GlobalFuncs.is_type_in_list( AM, new ByTable(new object [] { typeof(Obj_Item_Pipe), typeof(Obj_Item_PipeMeter), typeof(Obj_Item_PipeGsensor), typeof(Obj_Structure_Disposalconstruct) }) ) ) {
				return 1;
			}
			GlobalFuncs.to_chat( user, "Destroying Pipe..." );
			GlobalFuncs.playsound( GlobalFuncs.get_turf( this.master ), "sound/machines/click.ogg", 50, 1 );

			if ( !GlobalFuncs.do_after( user, AM, 5 ) ) {
				return 1;
			}

			if ( !Lang13.Bool( AM ) ) {
				return 1;
			}
			GlobalFuncs.playsound( GlobalFuncs.get_turf( this.master ), "sound/items/Deconstruct.ogg", 50, 1 );

			if ( AM is Obj_Item_Pipe ) {
				GlobalFuncs.returnToPool( A );
			} else {
				GlobalFuncs.qdel( AM );
			}
			return null;
		}

	}

}