// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Disease2_Effect_Suicide : Disease2_Effect {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.name = "Suicidal Syndrome";
			this.badness = 2;
		}

		// Function from file: effect.dm
		public override bool activate( Mob_Living mob = null, bool multiplier = false ) {
			mob.suiciding = true;
			GlobalFuncs.to_chat( Map13.FetchViewers( null, mob ), new Txt( "<span class='danger'>" ).item( mob.name ).str( " is holding " ).his_her_its_their().str( " breath. It looks like " ).he_she_it_they().str( "'s trying to commit suicide.</span>" ).ToString() );
			mob.adjustOxyLoss( 175 - Convert.ToDouble( mob.getToxLoss() ) - mob.getFireLoss() - mob.getBruteLoss() - Convert.ToDouble( mob.getOxyLoss() ) );
			mob.updatehealth();
			Task13.Schedule( 200, (Task13.Closure)(() => {
				mob.suiciding = false;
				return;
			}));
			return false;
		}

	}

}