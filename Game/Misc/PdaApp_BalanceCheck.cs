// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class PdaApp_BalanceCheck : PdaApp {

		public Obj_Machinery_AccountDatabase linked_db = null;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.name = "Virtual Wallet and Balance Check";
			this.desc = "Connects to the Account Database to check the balance history the inserted ID card.";
			this.price = 0;
			this.icon = "pda_money";
			this.menu = 103;
		}

		// Function from file: apps.dm
		public void reconnect_database(  ) {
			Obj_Machinery_AccountDatabase DB = null;

			
			foreach (dynamic _a in Lang13.Enumerate( GlobalVars.account_DBs, typeof(Obj_Machinery_AccountDatabase) )) {
				DB = _a;
				

				if ( DB.z == this.pda_device.loc.z || DB.z == 1 ) {
					
					if ( DB.stat == 0 && DB.activated ) {
						this.linked_db = DB;
						break;
					}
				}
			}
			return;
		}

		// Function from file: apps.dm
		public override void onInstall( dynamic device = null ) {
			base.onInstall( (object)(device) );
			this.reconnect_database();
			return;
		}

	}

}