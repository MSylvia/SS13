// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Dna_Gene_Disability_Radioactive : Dna_Gene_Disability {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.name = "Radioactive";
			this.desc = "The subject suffers from constant radiation sickness and causes the same on nearby organics.";
			this.activation_message = "You feel a strange sickness permeate your whole body.";
			this.deactivation_message = "You no longer feel awful and sick all over.";
			this.flags = 2;
		}

		// Function from file: goon_disabilities.dm
		public Dna_Gene_Disability_Radioactive (  ) {
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			this.block = GlobalVars.RADBLOCK;
			return;
		}

		// Function from file: goon_disabilities.dm
		public override dynamic OnDrawUnderlays( Mob_Living_Carbon_Human M = null, string g = null, string fat = null ) {
			return "rads" + fat + "_s";
		}

		// Function from file: goon_disabilities.dm
		public override void OnMobLife( Mob_Living M = null ) {
			Mob_Living L = null;

			M.radiation = Num13.MaxInt( ((int)( M.radiation )), 20 );

			foreach (dynamic _a in Lang13.Enumerate( Map13.FetchInRange( M, 1 ), typeof(Mob_Living) )) {
				L = _a;
				

				if ( L == M ) {
					continue;
				}
				GlobalFuncs.to_chat( L, "<span class='warning'>You are enveloped by a soft green glow emanating from " + M + ".</span>" );
				L.radiation += 5;
			}
			return;
		}

	}

}