// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class LibraryQuery : Game_Data {

		public string author = null;
		public string category = null;
		public string title = null;

		// Function from file: lib_machines.dm
		public string toSQL(  ) {
			ByTable where = null;

			where = new ByTable();

			if ( Lang13.Bool( this.author ) || Lang13.Bool( this.title ) || Lang13.Bool( this.category ) ) {
				
				if ( Lang13.Bool( this.author ) ) {
					where.Add( "author LIKE '%" + GlobalFuncs.sanitizeSQL( this.author ) + "%'" );
				}

				if ( Lang13.Bool( this.category ) ) {
					where.Add( "category = '" + GlobalFuncs.sanitizeSQL( this.category ) + "'" );
				}

				if ( Lang13.Bool( this.title ) ) {
					where.Add( "title LIKE '%" + GlobalFuncs.sanitizeSQL( this.title ) + "%'" );
				}
				return " WHERE " + GlobalFuncs.list2text( where, " AND " );
			}
			return "";
		}

	}

}