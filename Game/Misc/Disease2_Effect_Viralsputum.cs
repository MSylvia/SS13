// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Disease2_Effect_Viralsputum : Disease2_Effect {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.name = "Respiratory Putrification";
			this.stage = 2;
		}

		// Function from file: effect.dm
		public override bool activate( Mob_Living mob = null, bool multiplier = false ) {
			dynamic D = null;

			
			if ( Rand13.PercentChance( 30 ) ) {
				mob.say( "*cough" );
				D = Lang13.FindIn( typeof(Obj_Effect_Decal_Cleanable_Blood_Viralsputum), GlobalFuncs.get_turf( mob ) );

				if ( !Lang13.Bool( D ) ) {
					D = GlobalFuncs.getFromPool( typeof(Obj_Effect_Decal_Cleanable_Blood_Viralsputum), GlobalFuncs.get_turf( mob ) );
					D.New( D.loc );
				}
				D.virus2 |= GlobalFuncs.virus_copylist( ((dynamic)mob).virus2 );
			}
			return false;
		}

	}

}