// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Event_GridCheck : Event {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.announceWhen = 5;
		}

		public Event_GridCheck ( Obj_Item_MechaParts_MechaEquipment_Tool_CableLayer tlistener = null, string tprocname = null ) : base( tlistener, tprocname ) {
			
		}

		// Function from file: grid_check.dm
		public override void end(  ) {
			
			if ( GlobalVars.universe.name != "Normal" ) {
				GlobalFuncs.message_admins( "Universe isn't normal, aborting power_restore()." );
				return;
			}
			GlobalFuncs.power_restore();
			return;
		}

		// Function from file: grid_check.dm
		public override void announce(  ) {
			GlobalFuncs.command_alert( "Abnormal activity detected in " + GlobalFuncs.station_name() + "'s powernet. As a precautionary measure, the station's power will be shut off for an indeterminate duration.", "Automated Grid Check" );
			GlobalFuncs.to_chat( typeof(Game13), new Sound( "sound/AI/poweroff.ogg" ) );
			return;
		}

		// Function from file: grid_check.dm
		public override bool start(  ) {
			GlobalFuncs.power_failure( false );
			return false;
		}

		// Function from file: grid_check.dm
		public override void setup(  ) {
			this.endWhen = Rand13.Int( 30, 120 );
			return;
		}

	}

}