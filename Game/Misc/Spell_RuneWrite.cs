// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Spell_RuneWrite : Spell {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.name = "Scribe a Rune";
			this.desc = "Let's you instantly manifest a working rune.";
			this.spell_flags = 256;
			this.hud_state = "const_rune";
			this.smoke_amt = 1;
		}

		// Function from file: rune_write.dm
		public override bool cast( ByTable targets = null, Mob user = null ) {
			user = user ?? Task13.User;

			ByTable runes = null;
			dynamic r = null;
			Obj_Effect_Rune R = null;
			dynamic beacon = null;
			dynamic beacon2 = null;

			
			if ( !Lang13.Bool( GlobalVars.cultwords["travel"] ) ) {
				GlobalFuncs.runerandom();
			}
			runes = new ByTable(new object [] { 
				"Teleport", 
				"Teleport Other", 
				"Spawn a Tome", 
				"Change Construct Type", 
				"Convert", 
				"EMP", 
				"Drain Blood", 
				"See Invisible", 
				"Resurrect", 
				"Hide Runes", 
				"Reveal Runes", 
				"Astral Journey", 
				"Manifest a Ghost", 
				"Imbue Talisman", 
				"Sacrifice", 
				"Wall", 
				"Free Cultist", 
				"Summon Cultist", 
				"Deafen", 
				"Blind", 
				"BloodBoil", 
				"Communicate", 
				"Stun"
			 });
			r = Interface13.Input( user, "Choose a rune to scribe", "Rune Scribing", null, runes, InputType.Any );
			R = new Obj_Effect_Rune( user.loc );

			if ( user.loc is Tile ) {
				
				dynamic _a = r; // Was a switch-case, sorry for the mess.
				if ( _a=="Teleport" ) {
					
					if ( this.cast_check( true ) ) {
						beacon = null;

						if ( user != null ) {
							beacon = Interface13.Input( user, "Select the last rune", "Rune Scribing", null, GlobalVars.rnwords, InputType.Any );
						}
						R.word1 = GlobalVars.cultwords["travel"];
						R.word2 = GlobalVars.cultwords["self"];
						R.word3 = beacon;
						R.check_icon();
					}
				} else if ( _a=="Teleport Other" ) {
					
					if ( this.cast_check( true ) ) {
						beacon2 = null;

						if ( user != null ) {
							beacon2 = Interface13.Input( user, "Select the last rune", "Rune Scribing", null, GlobalVars.rnwords, InputType.Any );
						}
						R.word1 = GlobalVars.cultwords["travel"];
						R.word2 = GlobalVars.cultwords["other"];
						R.word3 = beacon2;
						R.check_icon();
					}
				} else if ( _a=="Spawn a Tome" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["see"];
						R.word2 = GlobalVars.cultwords["blood"];
						R.word3 = GlobalVars.cultwords["hell"];
						R.check_icon();
					}
				} else if ( _a=="Change Construct Type" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["hell"];
						R.word2 = GlobalVars.cultwords["destroy"];
						R.word3 = GlobalVars.cultwords["other"];
						R.check_icon();
					}
				} else if ( _a=="Convert" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["join"];
						R.word2 = GlobalVars.cultwords["blood"];
						R.word3 = GlobalVars.cultwords["self"];
						R.check_icon();
					}
				} else if ( _a=="EMP" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["destroy"];
						R.word2 = GlobalVars.cultwords["see"];
						R.word3 = GlobalVars.cultwords["technology"];
						R.check_icon();
					}
				} else if ( _a=="Drain Blood" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["travel"];
						R.word2 = GlobalVars.cultwords["blood"];
						R.word3 = GlobalVars.cultwords["self"];
						R.check_icon();
					}
				} else if ( _a=="See Invisible" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["see"];
						R.word2 = GlobalVars.cultwords["hell"];
						R.word3 = GlobalVars.cultwords["join"];
						R.check_icon();
					}
				} else if ( _a=="Resurrect" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["blood"];
						R.word2 = GlobalVars.cultwords["join"];
						R.word3 = GlobalVars.cultwords["hell"];
						R.check_icon();
					}
				} else if ( _a=="Hide Runes" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["hide"];
						R.word2 = GlobalVars.cultwords["see"];
						R.word3 = GlobalVars.cultwords["blood"];
						R.check_icon();
					}
				} else if ( _a=="Astral Journey" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["hell"];
						R.word2 = GlobalVars.cultwords["travel"];
						R.word3 = GlobalVars.cultwords["self"];
						R.check_icon();
					}
				} else if ( _a=="Manifest a Ghost" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["blood"];
						R.word2 = GlobalVars.cultwords["see"];
						R.word3 = GlobalVars.cultwords["travel"];
						R.check_icon();
					}
				} else if ( _a=="Imbue Talisman" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["hell"];
						R.word2 = GlobalVars.cultwords["technology"];
						R.word3 = GlobalVars.cultwords["join"];
						R.check_icon();
					}
				} else if ( _a=="Sacrifice" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["hell"];
						R.word2 = GlobalVars.cultwords["blood"];
						R.word3 = GlobalVars.cultwords["join"];
						R.check_icon();
					}
				} else if ( _a=="Reveal Runes" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["blood"];
						R.word2 = GlobalVars.cultwords["see"];
						R.word3 = GlobalVars.cultwords["hide"];
						R.check_icon();
					}
				} else if ( _a=="Wall" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["destroy"];
						R.word2 = GlobalVars.cultwords["travel"];
						R.word3 = GlobalVars.cultwords["self"];
						R.check_icon();
					}
				} else if ( _a=="Freedom" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["travel"];
						R.word2 = GlobalVars.cultwords["technology"];
						R.word3 = GlobalVars.cultwords["other"];
						R.check_icon();
					}
				} else if ( _a=="Cultsummon" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["join"];
						R.word2 = GlobalVars.cultwords["other"];
						R.word3 = GlobalVars.cultwords["self"];
						R.check_icon();
					}
				} else if ( _a=="Deafen" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["hide"];
						R.word2 = GlobalVars.cultwords["other"];
						R.word3 = GlobalVars.cultwords["see"];
						R.check_icon();
					}
				} else if ( _a=="Blind" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["destroy"];
						R.word2 = GlobalVars.cultwords["see"];
						R.word3 = GlobalVars.cultwords["other"];
						R.check_icon();
					}
				} else if ( _a=="BloodBoil" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["destroy"];
						R.word2 = GlobalVars.cultwords["see"];
						R.word3 = GlobalVars.cultwords["blood"];
						R.check_icon();
					}
				} else if ( _a=="Communicate" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["self"];
						R.word2 = GlobalVars.cultwords["other"];
						R.word3 = GlobalVars.cultwords["technology"];
						R.check_icon();
					}
				} else if ( _a=="Stun" ) {
					
					if ( this.cast_check( true ) ) {
						R.word1 = GlobalVars.cultwords["join"];
						R.word2 = GlobalVars.cultwords["hide"];
						R.word3 = GlobalVars.cultwords["technology"];
						R.check_icon();
					}
				}
			} else {
				GlobalFuncs.to_chat( user, "<span class='warning'>You do not have enough space to write a proper rune.</span>" );
			}
			return false;
		}

		// Function from file: rune_write.dm
		public override ByTable choose_targets( Mob user = null ) {
			user = user ?? Task13.User;

			return new ByTable(new object [] { user });
		}

	}

}