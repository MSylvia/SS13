// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Symptom_Vomit_Blood : Symptom_Vomit {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.name = "Blood Vomiting";
			this.stage_speed = -1;
			this.level = 4;
		}

		// Function from file: vomit.dm
		public override void Vomit( dynamic M = null ) {
			double brute_dam = 0;
			dynamic pos = null;

			((Mob)M).Stun( 1 );
			((Ent_Static)M).visible_message( "<B>" + M + "</B> vomits on the floor!" );
			brute_dam = ((Mob_Living)M).getBruteLoss();

			if ( brute_dam < 50 ) {
				((Mob_Living)M).adjustBruteLoss( 3 );
			}
			pos = GlobalFuncs.get_turf( M );
			((Tile_Simulated)pos).add_blood_floor( M );
			GlobalFuncs.playsound( pos, "sound/effects/splat.ogg", 50, 1 );
			return;
		}

	}

}