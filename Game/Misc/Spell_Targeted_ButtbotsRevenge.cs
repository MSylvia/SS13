// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Spell_Targeted_ButtbotsRevenge : Spell_Targeted {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.name = "Butt-Bot's Revenge";
			this.desc = "This spell removes the target's ass in a firey explosion.";
			this.charge_max = 500;
			this.spell_flags = 130;
			this.invocation = "ARSE NATH";
			this.invocation_type = "shout";
			this.range = 1;
			this.cooldown_min = 200;
			this.sparks_spread = true;
			this.sparks_amt = 4;
			this.amt_weakened = 8;
			this.amt_stunned = 8;
			this.hud_state = "wiz_butt";
		}

		// Function from file: vgstation13.dme
		public override bool cast( ByTable targets = null, Mob user = null ) {
			Mob_Living target = null;
			Mob_Living C = null;
			Obj_Item_Clothing_Head_Butt B = null;

			base.cast( targets, user );

			foreach (dynamic _a in Lang13.Enumerate( targets, typeof(Mob_Living) )) {
				target = _a;
				

				if ( target is Mob_Living_Carbon_Human || target is Mob_Living_Carbon_Monkey ) {
					C = target;

					if ( ((dynamic)C).op_stage.butt != 4 ) {
						B = new Obj_Item_Clothing_Head_Butt( C.loc );
						B.transfer_buttdentity( C );
						((dynamic)C).op_stage.butt = 4;
						GlobalFuncs.to_chat( C, "<span class='warning'>Your ass just blew up!</span>" );
					}
					GlobalFuncs.playsound( GlobalFuncs.get_turf( this ), "sound/effects/superfart.ogg", 50, 1 );
					C.apply_damage( 40, "brute", "groin" );
					C.apply_damage( 10, "fire", "groin" );
				}
			}
			return false;
		}

	}

}