// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class SurgeryStep_OpenEncased : SurgeryStep {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.priority = 2;
			this.can_infect = true;
			this.blood_level = 1;
		}

		// Function from file: encased.dm
		public override int can_use( dynamic user = null, dynamic target = null, string target_zone = null, Obj_Item tool = null ) {
			Organ_External affected = null;

			
			if ( !GlobalFuncs.hasorgans( target ) ) {
				return 0;
			}
			affected = ((Mob_Living_Carbon_Human)target).get_organ( target_zone );
			return Lang13.Bool( affected.encased ) && ( affected.open >= 2 || Lang13.Bool( target.species.flags & 32768 ) ) ?1:0;
		}

	}

}