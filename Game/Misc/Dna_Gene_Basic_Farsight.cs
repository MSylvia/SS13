// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Dna_Gene_Basic_Farsight : Dna_Gene_Basic {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.name = "Farsight";
			this.desc = "Increases the subjects ability to see things from afar.";
			this.activation_messages = new ByTable(new object [] { "Your eyes focus." });
			this.deactivation_messages = new ByTable(new object [] { "Your eyes return to normal." });
			this.drug_activation_messages = new ByTable(new object [] { "The world becomes huge! You feel like an ant." });
			this.drug_deactivation_messages = new ByTable(new object [] { "You no longer feel like an insect." });
			this.mutation = 212;
		}

		// Function from file: vg_powers.dm
		public Dna_Gene_Basic_Farsight (  ) {
			this.block = GlobalVars.FARSIGHTBLOCK;
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			return;
		}

		// Function from file: vg_powers.dm
		public override bool can_activate( dynamic M = null, bool? flags = null ) {
			
			if ( ( M.sdisabilities & 1 ) != 0 || Lang13.Bool( M.disabilities & 1 ) ) {
				return false;
			}
			return base.can_activate( (object)(M), flags );
		}

		// Function from file: vg_powers.dm
		public override bool deactivate( dynamic M = null, dynamic connected = null, int? flags = null ) {
			
			if ( base.deactivate( (object)(M), (object)(connected), flags ) ) {
				
				if ( Lang13.Bool( M.client ) && M.client.view == Game13.view + 1 ) {
					M.client.view = Convert.ToInt32( Game13.view );
				}
			}
			return false;
		}

		// Function from file: vg_powers.dm
		public override bool activate( dynamic M = null, dynamic connected = null, bool? flags = null ) {
			base.activate( (object)(M), (object)(connected), flags );

			if ( Lang13.Bool( M.client ) ) {
				M.client.view = Num13.MaxInt( M.client.view, Convert.ToInt32( Game13.view + 1 ) );
			}
			return false;
		}

	}

}