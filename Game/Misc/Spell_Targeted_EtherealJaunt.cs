// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Spell_Targeted_EtherealJaunt : Spell_Targeted {

		public string enteranim = "liquify";
		public string exitanim = "reappear";
		public bool? mist = true;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.name = "Ethereal Jaunt";
			this.desc = "This spell creates your ethereal form, temporarily making you invisible and able to pass through walls.";
			this.school = "transmutation";
			this.charge_max = 300;
			this.spell_flags = 74;
			this.invocation = "none";
			this.range = -1;
			this.cooldown_min = 100;
			this.duration = 50;
			this.hud_state = "wiz_jaunt";
		}

		// Function from file: ethereal_jaunt.dm
		public override bool cast( ByTable targets = null, Mob user = null ) {
			Mob_Living target = null;

			
			if ( targets.len > 1 ) {
				
				foreach (dynamic _a in Lang13.Enumerate( targets, typeof(Mob_Living) )) {
					target = _a;
					
					Task13.Schedule( 0, (Task13.Closure)(() => {
						GlobalFuncs.ethereal_jaunt( target, this.duration, this.enteranim, this.exitanim, this.mist );
						return;
					}));
				}
			} else {
				GlobalFuncs.ethereal_jaunt( targets[1], this.duration, this.enteranim, this.exitanim, this.mist );
			}
			return false;
		}

	}

}