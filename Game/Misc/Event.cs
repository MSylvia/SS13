// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Event : Game_Data {

		public Obj_Item_MechaParts_MechaEquipment_Tool_CableLayer listener = null;
		public string proc_name = null;
		public int startWhen = 0;
		public int announceWhen = 0;
		public int endWhen = 0;
		public bool oneShot = false;
		public int activeFor = 0;

		// Function from file: events.dm
		public Event ( Obj_Item_MechaParts_MechaEquipment_Tool_CableLayer tlistener = null, string tprocname = null ) {
			this.listener = tlistener;
			this.proc_name = tprocname;
			// Warning: Super call was HERE! If anything above HERE is needed by the super call, it might break!;
			return;
		}

		// Function from file: event.dm
		public void kill(  ) {
			GlobalVars.events.Remove( this );
			return;
		}

		// Function from file: event.dm
		public void process(  ) {
			
			if ( this.activeFor > this.startWhen && this.activeFor < this.endWhen ) {
				this.tick();
			}

			if ( this.activeFor == this.startWhen ) {
				this.start();
			}

			if ( this.activeFor == this.announceWhen ) {
				this.announce();
			}

			if ( this.activeFor == this.endWhen ) {
				this.end();
			}

			if ( this.activeFor >= this.endWhen && this.activeFor >= this.announceWhen && this.activeFor >= this.startWhen ) {
				this.kill();
			}
			this.activeFor++;
			return;
		}

		// Function from file: event.dm
		public virtual void end(  ) {
			return;
		}

		// Function from file: event.dm
		public virtual void tick(  ) {
			return;
		}

		// Function from file: event.dm
		public virtual void announce(  ) {
			return;
		}

		// Function from file: event.dm
		public virtual bool start(  ) {
			return false;
		}

		// Function from file: event.dm
		public virtual void setup(  ) {
			return;
		}

		// Function from file: vgstation13.dme
		public bool Fire( params object[] _ ) {
			ByTable _args = new ByTable( new object[] {  } ).Extend(_);

			
			if ( this.listener != null ) {
				_args.Apply( Lang13.BindFunc( this.listener, this.proc_name ) );
				return true;
			}
			return false;
		}

	}

}