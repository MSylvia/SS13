// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Effect_Effect_System_SmokeSpread_Chem_Fart : Effect_Effect_System_SmokeSpread_Chem {

		// Function from file: effect_system.dm
		public override void set_up( dynamic carry = null, dynamic n = null, dynamic c = null, dynamic loca = null, dynamic direct = null ) {
			n = n ?? 5;
			c = c ?? 0;

			string contained = null;
			dynamic A = null;
			string where = null;
			string whereLink = null;
			string more = null;

			
			if ( Convert.ToDouble( n ) > 20 ) {
				n = 20;
			}
			this.number = n;
			this.cardinals = c;
			((Reagents)this.chemholder.reagents).add_reagent( "space_drugs", Rand13.Int( 1, 10 ) );

			if ( loca is Tile ) {
				this.location = loca;
			} else {
				this.location = GlobalFuncs.get_turf( loca );
			}

			if ( Lang13.Bool( direct ) ) {
				this.direction = direct;
			}
			contained = "[" + ((Reagents)this.chemholder.reagents).get_reagent_ids() + "]";
			A = GlobalFuncs.get_area( this.location );
			where = "" + A.name + " | " + this.location.x + ", " + this.location.y;
			whereLink = GlobalFuncs.formatJumpTo( this.location, where );
			more = new Txt( "(<A HREF='?_src_=holder;adminmoreinfo=" ).Ref( carry ).str( "'>?</a>)" ).ToString();
			GlobalFuncs.message_admins( "" + carry + more + " produced a toxic fart in (" + whereLink + ")" + contained + "." );
			GlobalVars.diary.WriteMsg( String13.HtmlDecode( "[" + GlobalFuncs.time_stamp() + "]GAME: " + ( "" + carry + more + " produced a toxic fart in (" + where + ")" + contained + "." ) ) );
			return;
		}

	}

}