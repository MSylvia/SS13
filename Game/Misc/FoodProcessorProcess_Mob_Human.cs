// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class FoodProcessorProcess_Mob_Human : FoodProcessorProcess_Mob {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.input = typeof(Mob_Living_Carbon_Human);
		}

		// Function from file: processor.dm
		public override void process( Ent_Static loc = null, Ent_Dynamic what = null ) {
			Ent_Dynamic target = null;
			ByTable throwzone = null;
			dynamic T = null;
			Obj I = null;
			int? i = null;

			target = what;

			if ( ((dynamic)target).wear_suit is Obj_Item_Clothing_Suit_Chickensuit && ((dynamic)target).head is Obj_Item_Clothing_Head_Chicken ) {
				target.visible_message( "<span class='danger'>Bwak! Bwak! Bwak!</span>" );
				GlobalFuncs.playsound( loc, "sound/machines/ya_dun_clucked.ogg", 50, 1 );
				((dynamic)target).canmove = 0;
				target.icon = null;
				target.invisibility = 101;
				target.density = false;
				throwzone = new ByTable();

				foreach (dynamic _a in Lang13.Enumerate( Map13.FetchInRangeExcludeThis( 4, loc ) )) {
					T = _a;
					
					throwzone.Add( T );
				}

				foreach (dynamic _b in Lang13.Enumerate( target.contents, typeof(Obj) )) {
					I = _b;
					
					I.loc = loc;
					I.throw_at( Rand13.PickFromTable( throwzone ), Rand13.Int( 2, 5 ), 0 );
				}
				GlobalFuncs.hgibs( loc, ((dynamic)target).viruses, ((dynamic)target).dna, ((dynamic)target).species.flesh_color, ((dynamic)target).species.blood_color );
				GlobalFuncs.qdel( target );
				target = null;
				i = null;
				i = 1;

				while (( i ??0) <= 6) {
					new Obj_Item_Weapon_ReagentContainers_Food_Snacks_ChickenNuggets( loc );
					Task13.Sleep( 2 );
					i++;
				}
				base.process( loc, what );
			} else {
				target.loc = loc;
				target.visible_message( "<span class='danger'>The processor's safety protocols won't allow it to cut something that looks human!</span>" );
			}
			return;
		}

	}

}