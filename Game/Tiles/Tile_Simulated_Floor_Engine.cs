// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Tile_Simulated_Floor_Engine : Tile_Simulated_Floor {

		protected override void __FieldInit() {
			base.__FieldInit();

			this.thermal_conductivity = 0.025;
			this.heat_capacity = 325000;
			this.icon_state = "engine";
		}

		public Tile_Simulated_Floor_Engine ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: engine.dm
		public override bool blob_act( dynamic severity = null ) {
			
			if ( Rand13.PercentChance( 25 ) ) {
				this.ChangeTurf( GlobalFuncs.get_base_turf( this.z ) );
				return false;
			}
			return false;
		}

		// Function from file: engine.dm
		public override dynamic attack_hand( dynamic a = null, dynamic b = null, dynamic c = null ) {
			((Mob)a).Move_Pulled( this );
			return null;
		}

		// Function from file: engine.dm
		public override dynamic attack_paw( Mob a = null, dynamic b = null, dynamic c = null ) {
			return this.attack_hand( a );
		}

		// Function from file: floor_types.dm
		public override bool ex_act( double? severity = null, dynamic child = null ) {
			Tile_Simulated_Floor_Engine F = null;
			Tile_Simulated_Floor_Engine F2 = null;

			
			switch ((int?)( severity )) {
				case 1:
					
					if ( Rand13.PercentChance( 80 ) ) {
						this.ReplaceWithLattice();
					} else if ( Rand13.PercentChance( 50 ) ) {
						this.ChangeTurf( GlobalFuncs.get_base_turf( this.z ) );
					} else {
						F = this;
						F.make_plating();
					}
					break;
				case 2:
					
					if ( Rand13.PercentChance( 50 ) ) {
						F2 = this;
						F2.make_plating();
					} else {
						return false;
					}
					break;
				case 3:
					return false;
					break;
			}
			return false;
		}

		// Function from file: floor_types.dm
		public override dynamic attackby( dynamic a = null, dynamic b = null, dynamic c = null ) {
			Tile_Simulated_Floor_Engine F = null;

			
			if ( !Lang13.Bool( a ) ) {
				return null;
			}

			if ( !Lang13.Bool( b ) ) {
				return null;
			}

			if ( a is Obj_Item_Weapon_Wrench ) {
				GlobalFuncs.to_chat( b, "<span class='notice'>Removing rods...</span>" );
				GlobalFuncs.playsound( GlobalFuncs.get_turf( this ), "sound/items/Ratchet.ogg", 80, 1 );

				if ( GlobalFuncs.do_after( b, this, 30 ) && this is Tile_Simulated_Floor_Engine ) {
					new Obj_Item_Stack_Rods( this, 2 );
					this.ChangeTurf( typeof(Tile_Simulated_Floor) );
					F = this;
					F.make_plating();
					return null;
				}
			}
			return null;
		}

	}

}