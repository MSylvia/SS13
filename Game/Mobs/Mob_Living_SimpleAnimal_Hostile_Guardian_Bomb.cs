// FILE AUTOGENERATED BY SOMNIUM13.

using System;
using Somnium.Engine.ByImpl;

namespace Somnium.Game {
	class Mob_Living_SimpleAnimal_Hostile_Guardian_Bomb : Mob_Living_SimpleAnimal_Hostile_Guardian {

		public int bomb_cooldown = 0;

		protected override void __FieldInit() {
			base.__FieldInit();

			this.damage_coeff = new ByTable().Set( "brute", 0.6 ).Set( "fire", 0.6 ).Set( "tox", 0.6 ).Set( "clone", 0.6 ).Set( "stamina", 0 ).Set( "oxy", 0.6 );
			this.range = 13;
			this.playstyle_string = "As an explosive type, you have only moderate close combat abilities, but are capable of converting any adjacent item into a disguised bomb via alt click.";
			this.magic_fluff_string = "..And draw the Scientist, master of explosive death.";
			this.tech_fluff_string = "Boot sequence complete. Explosive modules active. Holoparasite swarm online.";
		}

		public Mob_Living_SimpleAnimal_Hostile_Guardian_Bomb ( dynamic loc = null ) : base( (object)(loc) ) {
			
		}

		// Function from file: guardian.dm
		public override void AltClickOn( Ent_Static A = null ) {
			Obj_Item_Weapon_GuardianBomb B = null;

			
			if ( !( A is Ent_Dynamic ) ) {
				return;
			}

			if ( this.loc == this.summoner ) {
				this.WriteMsg( "<span class='danger'><B>You must be manifested to create bombs!</span></B>" );
				return;
			}

			if ( A is Obj ) {
				
				if ( this.bomb_cooldown <= Game13.time && !( this.stat != 0 ) ) {
					B = new Obj_Item_Weapon_GuardianBomb( GlobalFuncs.get_turf( A ) );
					this.WriteMsg( "<span class='danger'><B>Success! Bomb armed!</span></B>" );
					this.bomb_cooldown = Game13.time + 200;
					B.spawner = this;
					B.disguise( A );
				} else {
					this.WriteMsg( "<span class='danger'><B>Your powers are on cooldown! You must wait 20 seconds between bombs.</span></B>" );
				}
			}
			return;
		}

	}

}